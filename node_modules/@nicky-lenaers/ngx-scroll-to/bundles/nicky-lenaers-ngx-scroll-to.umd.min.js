!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs/index"),require("@angular/common")):"function"==typeof define&&define.amd?define("@nicky-lenaers/ngx-scroll-to",["exports","@angular/core","rxjs/index","@angular/common"],e):e((t["nicky-lenaers"]=t["nicky-lenaers"]||{},t["nicky-lenaers"]["ngx-scroll-to"]={}),t.ng.core,t.rxjs.index,t.ng.common)}(this,function(t,u,c,l){"use strict";var p={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},f={easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},easeOutElastic:function(t){return Math.pow(2,-10*t)*Math.sin((t-.25)*(2*Math.PI)/1)+1}},n=["click","mouseenter","mouseover","mousedown","mouseup","dblclick","contextmenu","wheel","mouseleave","mouseout"];function _(t){return t===window}var d=Object.assign||function d(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},h=function(){function t(t,e,n,o,r,i){var s=this;this._container=t,this._listenerTarget=e,this._isWindow=n,this._to=o,this._options=r,this._isBrowser=i,this._loop=function(){s._timeLapsed+=s._tick,s._percentage=s._timeLapsed/s._options.duration,s._percentage=1<s._percentage?1:s._percentage,s._position=s._startPosition+(s._startPosition-s._to<=0?1:-1)*s._distance*f[s._options.easing](s._percentage),null!==s._lastPosition&&s._position===s._lastPosition?s.stop():(s._source$.next(s._position),s._isWindow?s._listenerTarget.scrollTo(0,Math.floor(s._position)):s._container.scrollTop=Math.floor(s._position),s._lastPosition=s._position)},this._tick=16,this._interval=null,this._lastPosition=null,this._timeLapsed=0,this._windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this._container?this._startPosition=this._isWindow?this._windowScrollTop:this._container.scrollTop:this._startPosition=this._windowScrollTop,this._container&&!this._isWindow&&(this._to=this._to-this._container.getBoundingClientRect().top+this._startPosition);var a=this._startPosition-this._to;this._distance=this._container?Math.abs(this._startPosition-this._to):this._to,this._mappedOffset=this._options.offset,this._isBrowser&&this._options.offsetMap.forEach(function(t,e){return s._mappedOffset=window.innerWidth>e?t:s._mappedOffset}),this._distance+=this._mappedOffset*(a<=0?1:-1),this._source$=new c.ReplaySubject}return t.prototype.start=function(){return clearInterval(this._interval),this._interval=setInterval(this._loop,this._tick),this._source$.asObservable()},t.prototype.stop=function(){clearInterval(this._interval),this._interval=null,this._source$.complete()},t}(),e=function(){function t(t,e){this._document=t,this._platformId=e,this._interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}return t.prototype.scrollTo=function(t){return l.isPlatformBrowser(this._platformId)?this._start(t):(new c.ReplaySubject).asObservable()},t.prototype._start=function(t){var e=this,n=d({},p,t);this._animation&&this._animation.stop();var o=this._getNode(n.target);if(n.target&&!o)return c.throwError("Unable to find Target Element");var r=this._getContainer(n,o);if(n.container&&!r)return c.throwError("Unable to find Container Element");var i=this._getListenerTarget(r)||window,s=r?r.getBoundingClientRect().top:0;o&&(s=_(i)?o.offsetTop:o.getBoundingClientRect().top),this._animation=new h(r,i,_(i),s,n,l.isPlatformBrowser(this._platformId));var a=function(){return e._animation.stop()};this._addInterruptiveEventListeners(i,a);var u=this._animation.start();return this._subscribeToAnimation(u,i,a),u},t.prototype._subscribeToAnimation=function(t,e,n){var o=this,r=t.subscribe(function(){},function(){},function(){o._removeInterruptiveEventListeners(o._interruptiveEvents,e,n),r.unsubscribe()})},t.prototype._getContainer=function(t,e){var n=null;return t.container?n=this._getNode(t.container,!0):e&&(n=this._getFirstScrollableParent(e)),n},t.prototype._addInterruptiveEventListeners=function(e,n){var o=this;e||(e=window),this._interruptiveEvents.forEach(function(t){return e.addEventListener(t,n,!!o._supportPassive()&&{passive:!0})})},t.prototype._supportPassive=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(n){}return t},t.prototype._removeInterruptiveEventListeners=function(t,e,n){e||(e=window),t.forEach(function(t){return e.removeEventListener(t,n)})},t.prototype._getFirstScrollableParent=function(t){var e=window.getComputedStyle(t),n=/(auto|scroll|overlay)/;if("fixed"===e.position)return null;for(var o=t;o=o.parentElement;null)if("absolute"!==(e=window.getComputedStyle(o)).position&&"hidden"!==e.overflow&&"hidden"!==e.overflowY&&(n.test(e.overflow+e.overflowY)||"BODY"===o.tagName))return o;return null},t.prototype._getNode=function(t,e){var n;return void 0===e&&(e=!1),!function o(t){return"string"==typeof t||t instanceof String}(t)?!function r(t){return!isNaN(parseFloat(t))&&isFinite(t)}(t)?!function i(t){return t instanceof u.ElementRef}(t)?function s(t){return t instanceof HTMLElement}(t)&&(n=t):n=t.nativeElement:n=this._document.getElementById(String(t)):n=!e||"body"!==t&&"BODY"!==t?this._document.getElementById(function a(t){return"#"===t.substring(0,1)?t.substring(1):t}(t)):this._document.body,n},t.prototype._getListenerTarget=function(t){return t?this._isDocumentBody(t)?window:t:null},t.prototype._isDocumentBody=function(t){return"BODY"===t.tagName.toUpperCase()},t.decorators=[{type:u.Injectable}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:u.Inject,args:[l.DOCUMENT]}]},{type:undefined,decorators:[{type:u.Inject,args:[u.PLATFORM_ID]}]}]},t}(),o=function(){function t(t,e,n){this._elementRef=t,this._scrollToService=e,this._renderer2=n,this.ngxScrollTo=p.target,this.ngxScrollToEvent=p.action,this.ngxScrollToDuration=p.duration,this.ngxScrollToEasing=p.easing,this.ngxScrollToOffset=p.offset,this.ngxScrollToOffsetMap=p.offsetMap}return t.prototype.ngAfterViewInit=function(){var e=this;if(-1===n.indexOf(this.ngxScrollToEvent))throw new Error("Unsupported Event '"+this.ngxScrollToEvent+"'");this._renderer2.listen(this._elementRef.nativeElement,this.ngxScrollToEvent,function(t){e._options={target:e.ngxScrollTo,duration:e.ngxScrollToDuration,easing:e.ngxScrollToEasing,offset:e.ngxScrollToOffset,offsetMap:e.ngxScrollToOffsetMap},e._scrollToService.scrollTo(e._options)})},t.decorators=[{type:u.Directive,args:[{selector:"[ngx-scroll-to]"}]}],t.ctorParameters=function(){return[{type:u.ElementRef},{type:e},{type:u.Renderer2}]},t.propDecorators={ngxScrollTo:[{type:u.Input,args:["ngx-scroll-to"]}],ngxScrollToEvent:[{type:u.Input,args:["ngx-scroll-to-event"]}],ngxScrollToDuration:[{type:u.Input,args:["ngx-scroll-to-duration"]}],ngxScrollToEasing:[{type:u.Input,args:["ngx-scroll-to-easing"]}],ngxScrollToOffset:[{type:u.Input,args:["ngx-scroll-to-offset"]}],ngxScrollToOffsetMap:[{type:u.Input,args:["ngx-scroll-to-offset-map"]}]},t}(),r=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[e]}},t.decorators=[{type:u.NgModule,args:[{declarations:[o],exports:[o]}]}],t}();t.ScrollToModule=r,t.ScrollToService=e,t.Éµa=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=nicky-lenaers-ngx-scroll-to.umd.min.js.map