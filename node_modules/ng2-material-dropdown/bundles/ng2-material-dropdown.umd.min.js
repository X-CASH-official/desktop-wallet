!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/animations"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng2-material-dropdown",["exports","@angular/core","@angular/animations","@angular/common"],t):t(e["ng2-material-dropdown"]={},e.ng.core,e.ng.animations,e.ng.common)}(this,function(e,t,n,o){"use strict";var i=function(){function e(e){this.element=e,this.onMenuToggled=new t.EventEmitter,this.showCaret=!0}return e.prototype.toggleMenu=function(){this.onMenuToggled.emit(!0)},e.prototype.getPosition=function(){return this.element.nativeElement.getBoundingClientRect()},e.decorators=[{type:t.Component,args:[{selector:"ng2-dropdown-button",styles:['.ng2-dropdown-button{font-family:Roboto,"Helvetica Neue",Helvetica,Arial;background:#fff;padding:.45rem .25rem;font-size:14px;letter-spacing:.08rem;color:#444;outline:0;cursor:pointer;font-weight:400;border:none;border-bottom:1px solid #efefef;text-align:left;min-width:100px;width:100%;display:flex;flex-direction:row;max-width:150px}.ng2-dropdown-button:hover{color:#222}.ng2-dropdown-button:active,.ng2-dropdown-button:focus{color:#222;border-bottom:2px solid #2196f3}.ng2-dropdown-button__label{flex:1 1 95%}.ng2-dropdown-button__caret{width:12px;height:12px;display:flex;flex:1 1 6%}:host-context(.ng2-dropdown-button--icon) .ng2-dropdown-button{border:none;min-width:40px;width:40px;border-radius:100%;transition:all .2s;text-align:center;height:40px;padding:.5em}:host-context(.ng2-dropdown-button--icon) .ng2-dropdown-button:active{background:rgba(0,0,0,.2)}'],template:'<button class=\'ng2-dropdown-button\' type="button" (click)="toggleMenu()" tabindex="0s">\n    <span class="ng2-dropdown-button__label">\n        <ng-content></ng-content>\n    </span>\n\n    <span class="ng2-dropdown-button__caret" *ngIf="showCaret">\n        <svg enable-background="new 0 0 32 32" height="16px" id="Слой_1" version="1.1" viewBox="0 0 32 32" width="16px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M24.285,11.284L16,19.571l-8.285-8.288c-0.395-0.395-1.034-0.395-1.429,0  c-0.394,0.395-0.394,1.035,0,1.43l8.999,9.002l0,0l0,0c0.394,0.395,1.034,0.395,1.428,0l8.999-9.002  c0.394-0.395,0.394-1.036,0-1.431C25.319,10.889,24.679,10.889,24.285,11.284z" fill="#121313" id="Expand_More"/><g/><g/><g/><g/><g/><g/></svg>\n    </span>\n</button>\n'}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e.propDecorators={onMenuToggled:[{type:t.Output}],showCaret:[{type:t.Input}]},e}(),s=38,r=40,d=13,p=27;var a,l=((a={})[9]=function(e,t,n){e<t.length-1?n.select(t[e+1],!0):n.select(t[0],!0)},a[s]=function(e,t,n){0<e&&n.select(t[e-1],!0)},a[r]=function(e,t,n){e<t.length-1&&n.select(t[e+1],!0)},a[d]=function(e,t,n){return n.selectedItem?n.selectedItem.click():undefined},a[p]=function(){this.hide()},a);function c(e){-1<[38,40].indexOf(e.keyCode)&&e.preventDefault()}var u=function(){function e(){this.onItemSelected=new t.EventEmitter,this.onItemClicked=new t.EventEmitter,this.onItemDestroyed=new t.EventEmitter}return Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this._selectedItem},enumerable:!0,configurable:!0}),e.prototype.select=function(e,t){void 0===t&&(t=!0),this._selectedItem=e,t&&e&&(e.focus(),this.onItemSelected.emit(e))},e.prototype.unselect=function(){this._selectedItem=undefined},e}(),h=function(){function e(){this.menuState={isVisible:!1,toString:function(){return!0===this.isVisible?"visible":"hidden"}},this.dropdownState=new u}return e.decorators=[{type:t.Injectable}],e}(),m=function(){function e(e,t,n){this.state=e,this.element=t,this.renderer=n,this.preventClose=!1}return e.prototype.ngOnDestroy=function(){this.state.dropdownState.onItemDestroyed.emit(this)},Object.defineProperty(e.prototype,"isSelected",{get:function(){return this===this.state.dropdownState.selectedItem},enumerable:!0,configurable:!0}),e.prototype.select=function(e){this.state.dropdownState.select(this,!0),e&&(e.stopPropagation(),e.preventDefault())},e.prototype.click=function(){this.state.dropdownState.onItemClicked.emit(this)},e.prototype.focus=function(){this.renderer.invokeElementMethod(this.element.nativeElement.children[0],"focus")},e.decorators=[{type:t.Component,args:[{selector:"ng2-menu-item",styles:['.ng2-menu-item{font-family:Roboto,"Helvetica Neue",Helvetica,Arial;background:#fff;color:rgba(0,0,0,.87);cursor:pointer;font-size:.9em;text-transform:none;font-weight:400;letter-spacing:.03em;height:48px;line-height:48px;padding:.3em 1.25rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;transition:background .25s}.ng2-menu-item--selected{background:rgba(158,158,158,.2);outline:0}.ng2-menu-item:focus{outline:0}.ng2-menu-item:active{background:rgba(158,158,158,.4)}:host(ng2-menu-item) /deep/ [ng2-menu-item-icon]{vertical-align:middle;font-size:28px;width:1.5em;height:30px;color:rgba(0,0,0,.44)}'],template:'<div class=\'ng2-menu-item\'\n     role="button"\n     tabindex="0"\n     [class.ng2-menu-item--selected]="isSelected"\n     (keydown.enter)="click()"\n     (click)="click()"\n     (mouseover)="select()">\n        <ng-content></ng-content>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:h},{type:t.ElementRef},{type:t.Renderer}]},e.propDecorators={preventClose:[{type:t.Input}],value:[{type:t.Input}]},e}(),f=function(){function e(e,t,n){this.state=e,this.element=t,this.renderer=n,this.width=4,this.focusFirstElement=!0,this.appendToBody=!0,this.zIndex=1e3,this.listeners={arrowHandler:undefined,handleKeypress:undefined}}return e.prototype.show=function(e,t){void 0===t&&(t=!0);var n="undefined"!=typeof document?document:undefined,o="undefined"!=typeof window?window:undefined;this.state.menuState.isVisible||(this.listeners.handleKeypress=this.renderer.listen(n.body,"keydown",this.handleKeypress.bind(this)),this.listeners.arrowHandler=this.renderer.listen(o,"keydown",c)),this.state.menuState.isVisible=!0,e&&this.updatePosition(e,t)},e.prototype.hide=function(){this.state.menuState.isVisible=!1,this.state.dropdownState.unselect(),this.listeners.arrowHandler?this.listeners.arrowHandler():undefined,this.listeners.handleKeypress?this.listeners.handleKeypress():undefined},e.prototype.updatePosition=function(e,t){this.position=e,this.updateOnChange(t)},e.prototype.handleKeypress=function(e){var t=e.keyCode,n=this.items.toArray(),o=n.indexOf(this.state.dropdownState.selectedItem);l.hasOwnProperty(t)&&l[t].call(this,o,n,this.state.dropdownState)},e.prototype.getMenuElement=function(){return this.element.nativeElement.children[0]},e.prototype.calcPositionOffset=function(e){var t="undefined"!=typeof window?window:undefined,n="undefined"!=typeof document?document:undefined;if(t&&n&&e){var o=this.getMenuElement(),i=t.pageXOffset!==undefined,s="CSS1Compat"===(n.compatMode||""),r=i?t.pageXOffset:s?n.documentElement.scrollLeft:n.body.scrollLeft,d=i?t.pageYOffset:s?n.documentElement.scrollTop:n.body.scrollTop,p=this.applyOffset(e.top+(this.appendToBody?d-15:0)+"px",e.left+r-5+"px"),a=p.top,l=p.left,c=o.clientWidth,u=o.clientHeight,h=parseInt(a)+u+(this.appendToBody?0:d-15),m=parseInt(l)+c,f=t.innerHeight+t.scrollY,g=t.innerWidth+t.scrollX;if(f<=h&&(a=parseInt(a.replace("px",""))-u+"px"),g<=m){var y=m-g+30;l=parseInt(l.replace("px",""))-y+"px"}return{top:a,left:l}}},e.prototype.applyOffset=function(e,t){if(!this.offset)return{top:e,left:t};var n=this.offset.split(" ");return n[1]||(n[1]="0"),{top:e=parseInt(e.replace("px",""))+parseInt(n[0])+"px",left:t=parseInt(t.replace("px",""))+parseInt(n[1])+"px"}},e.prototype.ngOnInit=function(){var e="undefined"!=typeof document?document:undefined;this.appendToBody&&e.body.appendChild(this.element.nativeElement)},e.prototype.updateOnChange=function(e){void 0===e&&(e=!0);var t=this.getMenuElement(),n=this.calcPositionOffset(this.position);n&&(this.renderer.setElementStyle(t,"top",n.top.toString()),this.renderer.setElementStyle(t,"left",n.left.toString())),this.focusFirstElement&&this.items.first&&!this.state.dropdownState.selectedItem&&this.state.dropdownState.select(this.items.first,!1)},e.prototype.ngOnDestroy=function(){var e=this.element.nativeElement;e.parentNode.removeChild(e),this.listeners.handleKeypress&&this.listeners.handleKeypress()},e.decorators=[{type:t.Component,args:[{selector:"ng2-dropdown-menu",styles:[":host{display:block}.ng2-dropdown-menu{overflow-y:auto;box-shadow:0 1px 2px 0 rgba(0,0,0,.3);position:absolute;padding:.5em 0;background:#fff;border-radius:1px;max-height:400px;width:260px;min-height:0;display:block}.ng2-dropdown-menu.ng2-dropdown-menu--inside-element{position:fixed}.ng2-dropdown-menu.ng2-dropdown-menu--width--2{width:200px}.ng2-dropdown-menu.ng2-dropdown-menu--width--4{width:260px}.ng2-dropdown-menu.ng2-dropdown-menu--width--6{width:320px}.ng2-dropdown-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;overflow:hidden}:host /deep/ .ng2-menu-divider{height:1px;min-height:1px;max-height:1px;width:100%;display:block;background:#f9f9f9}"],template:'\x3c!-- MENU --\x3e\n<div class=\'ng2-dropdown-menu ng2-dropdown-menu---width--{{ width }}\'\n     [class.ng2-dropdown-menu--inside-element]="!appendToBody"\n     [class.ng2-dropdown-menu--open]="state.menuState.isVisible"\n     [style.z-index]="zIndex"\n     [@fade]="state.menuState.toString()">\n        <div class="ng2-dropdown-menu__options-container"\n             [@opacity]="state.menuState.toString()">\n            <ng-content></ng-content>\n        </div>\n</div>\n\n\x3c!-- BACKDROP --\x3e\n<div class="ng2-dropdown-backdrop" *ngIf="state.menuState.isVisible" (click)="hide()"></div>\n',animations:[n.trigger("fade",[n.state("visible",n.style({display:"block",opacity:1,height:"*",width:"*"})),n.state("hidden",n.style({display:"none",opacity:0,overflow:"hidden",height:0,width:0})),n.transition("hidden => visible",[n.animate("250ms ease-in",n.style({opacity:1,height:"*",width:"*"}))]),n.transition("visible => hidden",[n.animate("350ms ease-out",n.style({opacity:0,width:0,height:0}))])]),n.trigger("opacity",[n.transition("hidden => visible",[n.animate("450ms ease-in",n.keyframes([n.style({opacity:0,offset:0}),n.style({opacity:1,offset:1})]))]),n.transition("visible => hidden",[n.animate("250ms ease-out",n.keyframes([n.style({opacity:1,offset:0}),n.style({opacity:.5,offset:.3}),n.style({opacity:0,offset:1})]))])])]}]}],e.ctorParameters=function(){return[{type:h},{type:t.ElementRef},{type:t.Renderer}]},e.propDecorators={width:[{type:t.Input}],focusFirstElement:[{type:t.Input}],offset:[{type:t.Input}],appendToBody:[{type:t.Input}],zIndex:[{type:t.Input}],items:[{type:t.ContentChildren,args:[m]}]},e}(),g=function(){function e(e){this.state=e,this.dynamicUpdate=!0,this.onItemClicked=new t.EventEmitter,this.onItemSelected=new t.EventEmitter,this.onShow=new t.EventEmitter,this.onHide=new t.EventEmitter}return e.prototype.ngOnInit=function(){var o=this;this.state.dropdownState.onItemClicked.subscribe(function(e){o.onItemClicked.emit(e),e.preventClose||o.hide.call(o)}),this.button&&this.button.onMenuToggled.subscribe(function(){o.toggleMenu()}),this.state.dropdownState.onItemSelected.subscribe(function(e){o.onItemSelected.emit(e)}),this.state.dropdownState.onItemDestroyed.subscribe(function(e){var t,n=o.menu.items.toArray();e===o.state.dropdownState.selectedItem&&(o.menu.focusFirstElement&&(t=e===n[0]&&1<n.length?n[1]:n[0]),o.state.dropdownState.select(t))})},e.prototype.toggleMenu=function(e){void 0===e&&(e=this.button.getPosition()),this.state.menuState.isVisible?this.hide():this.show(e)},e.prototype.hide=function(){this.menu.hide(),this.onHide.emit(this)},e.prototype.show=function(e){void 0===e&&(e=this.button.getPosition()),this.menu.show(e,this.dynamicUpdate),this.onShow.emit(this)},e.prototype.scrollListener=function(){this.button&&this.dynamicUpdate&&this.menu.updatePosition(this.button.getPosition(),!0)},e.decorators=[{type:t.Component,args:[{selector:"ng2-dropdown",template:'<div class="ng2-dropdown-container">\n    <ng-content select="ng2-dropdown-button"></ng-content>\n    <ng-content select="ng2-dropdown-menu"></ng-content>\n</div>\n',providers:[h]}]}],e.ctorParameters=function(){return[{type:h}]},e.propDecorators={button:[{type:t.ContentChild,args:[i]}],menu:[{type:t.ContentChild,args:[f]}],dynamicUpdate:[{type:t.Input}],onItemClicked:[{type:t.Output}],onItemSelected:[{type:t.Output}],onShow:[{type:t.Output}],onHide:[{type:t.Output}],scrollListener:[{type:t.HostListener,args:["window:scroll"]}]},e}(),y=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{exports:[m,i,f,g],declarations:[g,m,i,f],imports:[o.CommonModule]}]}],e}();e.Ng2Dropdown=g,e.Ng2DropdownMenu=f,e.Ng2MenuItem=m,e.Ng2DropdownButton=i,e.Ng2DropdownModule=y,e.DropdownStateService=h,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng2-material-dropdown.umd.min.js.map