{"version":3,"file":"angular-dual-listbox.umd.js","sources":["~/angular-dual-listbox/src/angular-dual-listbox.module.ts","~/angular-dual-listbox/src/dual-list.component.ts","~/angular-dual-listbox/src/basic-list.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { DualListComponent } from './dual-list.component';\nexport class AngularDualListBoxModule {static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n\timports:      [\n\t\tCommonModule,\n\t\tFormsModule\n\t],\n\tdeclarations: [ DualListComponent ],\n\texports:      [ DualListComponent ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction AngularDualListBoxModule_tsickle_Closure_declarations() {\n/** @type {?} */\nAngularDualListBoxModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAngularDualListBoxModule.ctorParameters;\n}\n\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, DoCheck, EventEmitter, Input, IterableDiffers, OnChanges,\n\tOutput, SimpleChange } from '@angular/core';\n\nimport { BasicList } from './basic-list';\n\nexport type compareFunction = (a:any, b:any) => number;\n\nvar /** @type {?} */ nextId = 0;\nexport class DualListComponent implements DoCheck, OnChanges {\n\tstatic AVAILABLE_LIST_NAME = 'available';\n\tstatic CONFIRMED_LIST_NAME = 'confirmed';\n\n\tstatic LTR = 'left-to-right';\n\tstatic RTL = 'right-to-left';\n\n\tstatic DEFAULT_FORMAT = {\n\t\tadd: 'Add',\n\t\tremove: 'Remove',\n\t\tall: 'All',\n\t\tnone: 'None',\n\t\tdirection: DualListComponent.LTR,\n\t\tdraggable: true,\n\t\tlocale: undefined\n\t};\n\n\t id = `dual-list-${nextId++}`;\n\t key = '_id';\n\t display:any = '_name';\n\t height = '100px';\n\t filter = false;\n\t format = DualListComponent.DEFAULT_FORMAT;\n\t sort = false;\n\t compare:compareFunction;\n\t disabled = false;\n\t source:Array<any>;\n\t destination:Array<any>;\n\t destinationChange = new EventEmitter();\n\n\tavailable:BasicList;\n\tconfirmed:BasicList;\n\n\tsourceDiffer:any;\n\tdestinationDiffer:any;\nprivate sorter = (a:any, b:any) => { return (a._name < b._name) ? -1 : ((a._name > b._name) ? 1 : 0); };\n/**\n * @param {?} differs\n */\nconstructor(private differs:IterableDiffers) {\n\t\tthis.available = new BasicList(DualListComponent.AVAILABLE_LIST_NAME);\n\t\tthis.confirmed = new BasicList(DualListComponent.CONFIRMED_LIST_NAME);\n\t}\n/**\n * @param {?} changeRecord\n * @return {?}\n */\nngOnChanges(changeRecord: {[key:string]:SimpleChange}) {\n\t\tif (changeRecord['filter']) {\n\t\t\tif (changeRecord['filter'].currentValue === false) {\n\t\t\t\tthis.clearFilter(this.available);\n\t\t\t\tthis.clearFilter(this.confirmed);\n\t\t\t}\n\t\t}\n\n\t\tif (changeRecord['sort']) {\n\t\t\tif (changeRecord['sort'].currentValue === true && this.compare === undefined) {\n\t\t\t\tthis.compare = this.sorter;\n\t\t\t} else if (changeRecord['sort'].currentValue === false) {\n\t\t\t\tthis.compare = undefined;\n\t\t\t}\n\t\t}\n\n\t\tif (changeRecord['format']) {\n\t\t\tthis.format = changeRecord['format'].currentValue;\n\n\t\t\tif (typeof(this.format.direction) === 'undefined') {\n\t\t\t\tthis.format.direction = DualListComponent.LTR;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.add) === 'undefined') {\n\t\t\t\tthis.format.add = DualListComponent.DEFAULT_FORMAT.add;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.remove) === 'undefined') {\n\t\t\t\tthis.format.remove = DualListComponent.DEFAULT_FORMAT.remove;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.all) === 'undefined') {\n\t\t\t\tthis.format.all = DualListComponent.DEFAULT_FORMAT.all;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.none) === 'undefined') {\n\t\t\t\tthis.format.none = DualListComponent.DEFAULT_FORMAT.none;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.draggable) === 'undefined') {\n\t\t\t\tthis.format.draggable = DualListComponent.DEFAULT_FORMAT.draggable;\n\t\t\t}\n\t\t}\n\n\t\tif (changeRecord['source']) {\n\t\t\tthis.available = new BasicList(DualListComponent.AVAILABLE_LIST_NAME);\n\t\t\tthis.updatedSource();\n\t\t\tthis.updatedDestination();\n\t\t}\n\n\t\tif (changeRecord['destination']) {\n\t\t\tthis.confirmed = new BasicList(DualListComponent.CONFIRMED_LIST_NAME);\n\t\t\tthis.updatedDestination();\n\t\t\tthis.updatedSource();\n\t\t}\n\t}\n/**\n * @return {?}\n */\nngDoCheck() {\n\t\tif (this.source && this.buildAvailable(this.source)) {\n\t\t\tthis.onFilter(this.available);\n\t\t}\n\t\tif (this.destination && this.buildConfirmed(this.destination)) {\n\t\t\tthis.onFilter(this.confirmed);\n\t\t}\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nbuildAvailable(source:Array<any>) : boolean {\n\t\tconst /** @type {?} */ sourceChanges = this.sourceDiffer.diff(source);\n\t\tif (sourceChanges) {\n\t\t\tsourceChanges.forEachRemovedItem((r:any) => {\n\t\t\t\tconst /** @type {?} */ idx = this.findItemIndex(this.available.list, r.item, this.key);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tthis.available.list.splice(idx, 1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsourceChanges.forEachAddedItem((r:any) => {\n\t\t\t\t// Do not add duplicates even if source has duplicates.\n\t\t\t\tif (this.findItemIndex(this.available.list, r.item, this.key) === -1) {\n\t\t\t\t\tthis.available.list.push( { _id: this.makeId(r.item), _name: this.makeName(r.item) });\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (this.compare !== undefined) {\n\t\t\t\tthis.available.list.sort(this.compare);\n\t\t\t}\n\t\t\tthis.available.sift = this.available.list;\n\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} destination\n * @return {?}\n */\nbuildConfirmed(destination:Array<any>) : boolean {\n\t\tlet /** @type {?} */ moved = false;\n\t\tconst /** @type {?} */ destChanges = this.destinationDiffer.diff(destination);\n\t\tif (destChanges) {\n\t\t\tdestChanges.forEachRemovedItem((r:any) => {\n\t\t\t\tconst /** @type {?} */ idx = this.findItemIndex(this.confirmed.list, r.item, this.key);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tif (!this.isItemSelected(this.confirmed.pick, this.confirmed.list[idx])) {\n\t\t\t\t\t\tthis.selectItem(this.confirmed.pick, this.confirmed.list[idx]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveItem(this.confirmed, this.available, this.confirmed.list[idx], false);\n\t\t\t\t\tmoved = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdestChanges.forEachAddedItem((r:any) => {\n\t\t\t\tconst /** @type {?} */ idx = this.findItemIndex(this.available.list, r.item, this.key);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tif (!this.isItemSelected(this.available.pick, this.available.list[idx])) {\n\t\t\t\t\t\tthis.selectItem(this.available.pick, this.available.list[idx]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveItem(this.available, this.confirmed, this.available.list[idx], false);\n\t\t\t\t\tmoved = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (this.compare !== undefined) {\n\t\t\t\tthis.confirmed.list.sort(this.compare);\n\t\t\t}\n\t\t\tthis.confirmed.sift = this.confirmed.list;\n\n\t\t\tif (moved) {\n\t\t\t\tthis.trueUp();\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @return {?}\n */\nupdatedSource() {\n\t\tthis.available.list.length = 0;\n\t\tthis.available.pick.length = 0;\n\n\t\tif (this.source !== undefined) {\n\t\t\tthis.sourceDiffer = this.differs.find(this.source).create(null);\n\t\t}\n\t}\n/**\n * @return {?}\n */\nupdatedDestination() {\n\t\tif (this.destination !== undefined) {\n\t\t\tthis.destinationDiffer = this.differs.find(this.destination).create(null);\n\t\t}\n\t}\n/**\n * @return {?}\n */\ndirection() {\n\t\treturn this.format.direction === DualListComponent.LTR;\n\t}\n/**\n * @param {?=} list\n * @return {?}\n */\ndragEnd(list:BasicList = null) : boolean {\n\t\tif (list) {\n\t\t\tlist.dragStart = false;\n\t\t} else {\n\t\t\tthis.available.dragStart = false;\n\t\t\tthis.confirmed.dragStart = false;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} event\n * @param {?} item\n * @param {?} list\n * @return {?}\n */\ndrag(event:DragEvent, item:any, list:BasicList) {\n\t\tif (!this.isItemSelected(list.pick, item)) {\n\t\t\tthis.selectItem(list.pick, item);\n\t\t}\n\t\tlist.dragStart = true;\n\n\t\t// Set a custom type to be this dual-list's id.\n\t\tevent.dataTransfer.setData(this.id, item['_id']);\n\t}\n/**\n * @param {?} event\n * @param {?} list\n * @return {?}\n */\nallowDrop(event:DragEvent, list:BasicList) : boolean {\n\t\tif (event.dataTransfer.types.length && (event.dataTransfer.types[0] === this.id)) {\n\t\t\tevent.preventDefault();\n\t\t\tif (!list.dragStart) {\n\t\t\t\tlist.dragOver = true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @return {?}\n */\ndragLeave() {\n\t\tthis.available.dragOver = false;\n\t\tthis.confirmed.dragOver = false;\n\t}\n/**\n * @param {?} event\n * @param {?} list\n * @return {?}\n */\ndrop(event:DragEvent, list:BasicList) {\n\t\tif (event.dataTransfer.types.length && (event.dataTransfer.types[0] === this.id)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.dragLeave();\n\t\t\tthis.dragEnd();\n\n\t\t\tif (list === this.available) {\n\t\t\t\tthis.moveItem(this.available, this.confirmed);\n\t\t\t} else {\n\t\t\t\tthis.moveItem(this.confirmed, this.available);\n\t\t\t}\n\t\t}\n\t}\n/**\n * @return {?}\n */\nprivate trueUp() {\n\t\tlet /** @type {?} */ changed = false;\n\n\t\t// Clear removed items.\n\t\tlet /** @type {?} */ pos = this.destination.length;\n\t\twhile ((pos -= 1) >= 0) {\n\t\t\tconst /** @type {?} */ mv = this.confirmed.list.filter( conf => {\n\t\t\t\tif (typeof this.destination[pos] === 'object') {\n\t\t\t\t\treturn conf._id === this.destination[pos][this.key];\n\t\t\t\t} else {\n\t\t\t\t\treturn conf._id === this.destination[pos];\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (mv.length === 0) {\n\t\t\t\t// Not found so remove.\n\t\t\t\tthis.destination.splice(pos, 1);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t}\n\n\t\t// Push added items.\n\t\tfor (let /** @type {?} */ i = 0, /** @type {?} */ len = this.confirmed.list.length; i < len; i += 1) {\n\t\t\tlet /** @type {?} */ mv = this.destination.filter( (d:any) => {\n\t\t\t\tif (typeof d === 'object') {\n\t\t\t\t\treturn (d[this.key] === this.confirmed.list[i]._id);\n\t\t\t\t} else {\n\t\t\t\t\treturn (d === this.confirmed.list[i]._id);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (mv.length === 0) {\n\t\t\t\t// Not found so add.\n\t\t\t\tmv = this.source.filter( (o:any) => {\n\t\t\t\t\tif (typeof o === 'object') {\n\t\t\t\t\t\treturn (o[this.key] === this.confirmed.list[i]._id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn (o === this.confirmed.list[i]._id);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (mv.length > 0) {\n\t\t\t\t\tthis.destination.push(mv[0]);\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (changed) {\n\t\t\tthis.destinationChange.emit(this.destination);\n\t\t}\n\t}\n/**\n * @param {?} list\n * @param {?} item\n * @param {?=} key\n * @return {?}\n */\nfindItemIndex(list:Array<any>, item:any, key:any = '_id') {\n\t\tlet /** @type {?} */ idx = -1;\n/**\n * @param {?} e\n * @return {?}\n */\nfunction matchObject(e:any) {\n\t\t\tif (e._id === item[key]) {\n\t\t\t\tidx = list.indexOf(e);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction match(e:any) {\n\t\t\tif (e._id === item) {\n\t\t\t\tidx = list.indexOf(e);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\t// Assumption is that the arrays do not have duplicates.\n\t\tif (typeof item === 'object') {\n\t\t\tlist.filter(matchObject);\n\t\t} else {\n\t\t\tlist.filter(match);\n\t\t}\n\n\t\treturn idx;\n\t}\n/**\n * @param {?} source\n * @param {?} item\n * @return {?}\n */\nprivate makeUnavailable(source:BasicList, item:any) {\n\t\tconst /** @type {?} */ idx = source.list.indexOf(item);\n\t\tif (idx !== -1) {\n\t\t\tsource.list.splice(idx, 1);\n\t\t}\n\t}\n/**\n * @param {?} source\n * @param {?} target\n * @param {?=} item\n * @param {?=} trueup\n * @return {?}\n */\nmoveItem(source:BasicList, target:BasicList, item:any = null, trueup = true) {\n\t\tlet /** @type {?} */ i = 0;\n\t\tlet /** @type {?} */ len = source.pick.length;\n\n\t\tif (item) {\n\t\t\ti = source.list.indexOf(item);\n\t\t\tlen = i + 1;\n\t\t}\n\n\t\tfor (; i < len; i += 1) {\n\t\t\t// Is the pick still in list?\n\t\t\tlet /** @type {?} */ mv:Array<any> = [];\n\t\t\tif (item) {\n\t\t\t\tconst /** @type {?} */ idx = this.findItemIndex(source.pick, item);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tmv[0] = source.pick[idx];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmv = source.list.filter( src => {\n\t\t\t\t\treturn (src._id === source.pick[i]._id);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Should only ever be 1\n\t\t\tif (mv.length === 1) {\n\t\t\t\t// Add if not already in target.\n\t\t\t\tif (target.list.filter(trg => trg._id === mv[0]._id).length === 0) {\n\t\t\t\t\ttarget.list.push( mv[0] );\n\t\t\t\t}\n\n\t\t\t\tthis.makeUnavailable(source, mv[0]);\n\t\t\t}\n\t\t}\n\n\t\tif (this.compare !== undefined) {\n\t\t\ttarget.list.sort(this.compare);\n\t\t}\n\n\t\tsource.pick.length = 0;\n\n\t\t// Update destination\n\t\tif (trueup) {\n\t\t\tthis.trueUp();\n\t\t}\n\n\t\t// Delay ever-so-slightly to prevent race condition.\n\t\tsetTimeout( () => {\n\t\t\tthis.onFilter(source);\n\t\t\tthis.onFilter(target);\n\t\t}, 10);\n\t}\n/**\n * @param {?} list\n * @param {?} item\n * @return {?}\n */\nisItemSelected(list:Array<any>, item:any) : boolean {\n\t\tif (list.filter(e => Object.is(e, item)).length > 0) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} event\n * @param {?} index\n * @param {?} source\n * @param {?} item\n * @return {?}\n */\nshiftClick(event:MouseEvent, index:number, source:BasicList, item:any) {\n\t\tif (event.shiftKey && source.last && !Object.is(item, source.last)) {\n\t\t\tconst /** @type {?} */ idx = source.sift.indexOf(source.last);\n\t\t\tif (index > idx) {\n\t\t\t\tfor (let /** @type {?} */ i = (idx + 1); i < index; i += 1) {\n\t\t\t\t\tthis.selectItem(source.pick, source.sift[i]);\n\t\t\t\t}\n\t\t\t} else if (idx !== -1) {\n\t\t\t\tfor (let /** @type {?} */ i = (index + 1); i < idx; i += 1)  {\n\t\t\t\t\tthis.selectItem(source.pick, source.sift[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsource.last = item;\n\t}\n/**\n * @param {?} list\n * @param {?} item\n * @return {?}\n */\nselectItem(list:Array<any>, item:any) {\n\t\tconst /** @type {?} */ pk = list.filter( (e:any) => {\n\t\t\treturn Object.is(e, item);\n\t\t});\n\t\tif (pk.length > 0) {\n\t\t\t// Already in list, so deselect.\n\t\t\tfor (let /** @type {?} */ i = 0, /** @type {?} */ len = pk.length; i < len; i += 1) {\n\t\t\t\tconst /** @type {?} */ idx = list.indexOf(pk[i]);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tlist.splice(idx, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tlist.push(item);\n\t\t}\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nselectAll(source:BasicList) {\n\t\tsource.pick.length = 0;\n\t\tsource.pick = source.sift.slice(0);\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nselectNone(source:BasicList) {\n\t\tsource.pick.length = 0;\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nisAllSelected(source:BasicList) : boolean {\n\t\tif (source.list.length === 0 || source.list.length === source.pick.length) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nisAnySelected(source:BasicList) : boolean {\n\t\tif (source.pick.length > 0) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nprivate unpick(source:BasicList) {\n\t\tfor (let /** @type {?} */ i = source.pick.length - 1; i >= 0; i -= 1) {\n\t\t\tif (source.sift.indexOf(source.pick[i]) === -1) {\n\t\t\t\tsource.pick.splice(i, 1);\n\t\t\t}\n\t\t}\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nclearFilter(source:BasicList) {\n\t\tif (source) {\n\t\t\tsource.picker = '';\n\t\t\tthis.onFilter(source);\n\t\t}\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nonFilter(source:BasicList) {\n\t\tif (source.picker.length > 0) {\n\t\t\ttry {\n\t\t\t\tconst /** @type {?} */ filtered = source.list.filter( (item:any) => {\n\t\t\t\t\tif (Object.prototype.toString.call(item) === '[object Object]') {\n\t\t\t\t\t\tif (item._name !== undefined) {\n\t\t\t\t\t\t\t// @ts-ignore: remove when d.ts has locale as an argument.\n\t\t\t\t\t\t\treturn item._name.toLocaleLowerCase(this.format.locale).indexOf(source.picker.toLocaleLowerCase(this.format.locale)) !== -1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// @ts-ignore: remove when d.ts has locale as an argument.\n\t\t\t\t\t\t\treturn JSON.stringify(item).toLocaleLowerCase(this.format.locale).indexOf(source.picker.toLocaleLowerCase(this.format.locale)) !== -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// @ts-ignore: remove when d.ts has locale as an argument.\n\t\t\t\t\t\treturn item.toLocaleLowerCase(this.format.locale).indexOf(source.picker.toLocaleLowerCase(this.format.locale)) !== -1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tsource.sift = filtered;\n\t\t\t\tthis.unpick(source);\n\t\t\t}\n\t\t\tcatch ( /** @type {?} */e) {\n\t\t\t\tif (e instanceof RangeError) {\n\t\t\t\t\tthis.format.locale = undefined;\n\t\t\t\t}\n\t\t\t\tsource.sift = source.list;\n\t\t\t}\n\t\t} else {\n\t\t\tsource.sift = source.list;\n\t\t}\n\t}\n/**\n * @param {?} item\n * @return {?}\n */\nprivate makeId(item:any) : string | number {\n\t\tif (typeof item === 'object') {\n\t\t\treturn item[this.key];\n\t\t} else {\n\t\t\treturn item;\n\t\t}\n\t}\n/**\n * @param {?} item\n * @param {?=} separator\n * @return {?}\n */\nprotected makeName(item:any, separator = '_') : string {\n\t\tconst /** @type {?} */ display = this.display;\n/**\n * @param {?} itm\n * @return {?}\n */\nfunction fallback(itm:any) {\n\t\t\tswitch (Object.prototype.toString.call(itm)) {\n\t\t\tcase '[object Number]':\n\t\t\t\treturn itm;\n\t\t\tcase '[object String]':\n\t\t\t\treturn itm;\n\t\t\tdefault:\n\t\t\t\tif (itm !== undefined) {\n\t\t\t\t\treturn itm[display];\n\t\t\t\t} else {\n\t\t\t\t\treturn 'undefined';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet /** @type {?} */ str = '';\n\n\t\tif (this.display !== undefined) {\n\t\t\tswitch (Object.prototype.toString.call(this.display)) {\n\t\t\tcase '[object Function]':\n\t\t\t\tstr = this.display(item);\n\t\t\t\tbreak;\n\n\t\t\tcase '[object Array]':\n\t\t\t\tfor (let /** @type {?} */ i = 0, /** @type {?} */ len = this.display.length; i < len; i += 1) {\n\t\t\t\t\tif (str.length > 0) {\n\t\t\t\t\t\tstr = str + separator;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.display[i].indexOf('.') === -1) {\n\t\t\t\t\t\t// Simple, just add to string.\n\t\t\t\t\t\tstr = str + item[this.display[i]];\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Complex, some action needs to be performed\n\t\t\t\t\t\tconst /** @type {?} */ parts = this.display[i].split('.');\n\n\t\t\t\t\t\tconst /** @type {?} */ s = item[parts[0]];\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\t// Use brute force\n\t\t\t\t\t\t\tif (parts[1].indexOf('substring') !== -1) {\n\t\t\t\t\t\t\t\tconst /** @type {?} */ nums = (parts[1].substring(parts[1].indexOf('(') + 1, parts[1].indexOf(')'))).split(',');\n\n\t\t\t\t\t\t\t\tswitch (nums.length) {\n\t\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t\tstr = str + s.substring(parseInt(nums[0], 10));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\tstr = str + s.substring(parseInt(nums[0], 10), parseInt(nums[1], 10));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tstr = str + s;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// method not approved, so just add s.\n\t\t\t\t\t\t\t\tstr = str + s;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tstr = fallback(item);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tstr = fallback(item);\n\t\t}\n\n\t\treturn str;\n\t}\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n\tselector: 'dual-list',\n\ttemplate: `\n   <div class=\"dual-list\">\n   \t<div class=\"listbox\" [ngStyle]=\"{ 'order' :  direction() ? 1 : 2, 'margin-left' : direction() ? 0 : '10px' }\">\n   \t\t<button type=\"button\" name=\"addBtn\" class=\"btn btn-primary btn-block\"\n   \t\t\t(click)=\"moveItem(available, confirmed)\" [ngClass]=\"direction() ? 'point-right' : 'point-left'\"\n   \t\t\t[disabled]=\"available.pick.length === 0\">{{format.add}}</button>\n\n   \t\t<form *ngIf=\"filter\" class=\"filter\">\n   \t\t\t<input class=\"form-control\" name=\"filterSource\" [(ngModel)]=\"available.picker\" (ngModelChange)=\"onFilter(available)\">\n   \t\t</form>\n\n   \t\t<div class=\"record-picker\">\n   \t\t\t<ul [ngStyle]=\"{'max-height': height, 'min-height': height}\" [ngClass]=\"{over:available.dragOver}\"\n   \t\t\t\t(drop)=\"drop($event, confirmed)\" (dragover)=\"allowDrop($event, available)\" (dragleave)=\"dragLeave()\">\n   \t\t\t\t<li *ngFor=\"let item of available.sift; let idx=index;\"\n   \t\t\t\t\t(click)=\"disabled ? null : selectItem(available.pick, item); shiftClick($event, idx, available, item)\"\n   \t\t\t\t\t[ngClass]=\"{selected: isItemSelected(available.pick, item), disabled: disabled}\"\n   \t\t\t\t\t[draggable]=\"!disabled && format.draggable\" (dragstart)=\"drag($event, item, available)\" (dragend)=\"dragEnd(available)\"\n   \t\t\t\t><label>{{item._name}}</label></li>\n   \t\t\t</ul>\n   \t\t</div>\n\n   \t\t<div class=\"button-bar\">\n   \t\t\t<button type=\"button\" class=\"btn btn-primary pull-left\" (click)=\"selectAll(available)\"\n   \t\t\t\t[disabled]=\"disabled || isAllSelected(available)\">{{format.all}}</button>\n   \t\t\t<button type=\"button\" class=\"btn btn-default pull-right\" (click)=\"selectNone(available)\"\n   \t\t\t\t[disabled]=\"!isAnySelected(available)\">{{format.none}}</button>\n   \t\t</div>\n   \t</div>\n\n   \t<div class=\"listbox\" [ngStyle]=\"{ 'order' : direction() ? 2 : 1, 'margin-left' : direction() ? '10px' : 0 }\">\n   \t\t<button type=\"button\" name=\"removeBtn\" class=\"btn btn-primary btn-block\"\n   \t\t\t(click)=\"moveItem(confirmed, available)\" [ngClass]=\"direction() ? 'point-left' : 'point-right'\"\n   \t\t\t[disabled]=\"confirmed.pick.length === 0\">{{format.remove}}</button>\n\n   \t\t<form *ngIf=\"filter\" class=\"filter\">\n   \t\t\t<input class=\"form-control\" name=\"filterDestination\" [(ngModel)]=\"confirmed.picker\" (ngModelChange)=\"onFilter(confirmed)\">\n   \t\t</form>\n\n   \t\t<div class=\"record-picker\">\n   \t\t\t<ul [ngStyle]=\"{'max-height': height, 'min-height': height}\" [ngClass]=\"{over:confirmed.dragOver}\"\n   \t\t\t\t(drop)=\"drop($event, available)\" (dragover)=\"allowDrop($event, confirmed)\" (dragleave)=\"dragLeave()\">\n   \t\t\t\t<li #itmConf *ngFor=\"let item of confirmed.sift; let idx=index;\"\n   \t\t\t\t\t(click)=\"disabled ? null : selectItem(confirmed.pick, item); shiftClick($event, idx, confirmed, item)\"\n   \t\t\t\t\t[ngClass]=\"{selected: isItemSelected(confirmed.pick, item), disabled: disabled}\"\n   \t\t\t\t\t[draggable]=\"!disabled && format.draggable\" (dragstart)=\"drag($event, item, confirmed)\" (dragend)=\"dragEnd(confirmed)\"\n   \t\t\t\t><label>{{item._name}}</label></li>\n   \t\t\t</ul>\n   \t\t</div>\n\n   \t\t<div class=\"button-bar\">\n   \t\t\t<button type=\"button\" class=\"btn btn-primary pull-left\" (click)=\"selectAll(confirmed)\"\n   \t\t\t\t[disabled]=\"disabled || isAllSelected(confirmed)\">{{format.all}}</button>\n   \t\t\t<button type=\"button\" class=\"btn btn-default pull-right\" (click)=\"selectNone(confirmed)\"\n   \t\t\t\t[disabled]=\"!isAnySelected(confirmed)\">{{format.none}}</button>\n   \t\t</div>\n   \t</div>\n   </div>\n\t`,\n\tstyles: [`\n   div.record-picker {\n   \toverflow-x: hidden;\n   \toverflow-y: auto;\n   \tborder: 1px solid #ddd;\n   \tborder-radius:8px;\n   \tposition: relative;\n   \tcursor: pointer;\n   }\n\n   /* http://www.ourtuts.com/how-to-customize-browser-scrollbars-using-css3/ */\n   div.record-picker::-webkit-scrollbar {\n   \twidth: 12px;\n   }\n\n   div.record-picker::-webkit-scrollbar-button {\n   \twidth: 0px;\n   \theight: 0px;\n   }\n\n   div.record-picker {\n   \tscrollbar-base-color: #337ab7;\n   \tscrollbar-3dlight-color: #337ab7;\n   \tscrollbar-highlight-color: #337ab7;\n   \tscrollbar-track-color: #eee;\n   \tscrollbar-arrow-color: gray;\n   \tscrollbar-shadow-color: gray;\n   \tscrollbar-dark-shadow-color: gray;\n   }\n\n   div.record-picker::-webkit-scrollbar-track {\n   \tbackground:#eee;\n   \t-webkit-box-shadow: 0px 0px 3px #dfdfdf inset;\n   \t        box-shadow: 0px 0px 3px #dfdfdf inset;\n   \tborder-top-right-radius: 8px;\n   \tborder-bottom-right-radius: 8px;\n   }\n\n   div.record-picker::-webkit-scrollbar-thumb {\n   \tbackground: #337ab7;\n   \tborder: thin solid gray;\n   \tborder-top-right-radius: 8px;\n   \tborder-bottom-right-radius: 8px;\n   }\n\n   div.record-picker::-webkit-scrollbar-thumb:hover {\n   \tbackground: #286090;\n   }\n\n   .record-picker ul {\n   \tmargin: 0;\n   \tpadding: 0 0 1px 0;\n   }\n\n   .record-picker li {\n   \tborder-top: thin solid #ddd;\n   \tborder-bottom: 1px solid #ddd;\n   \tdisplay: block;\n   \tpadding: 2px 2px 2px 10px;\n   \tmargin-bottom: -1px;\n   \tfont-size: 0.85em;\n   \tcursor: pointer;\n   \twhite-space: nowrap;\n   \tmin-height:16px;\n   }\n\n   .record-picker li:hover {\n   \tbackground-color: #f5f5f5;\n   }\n\n   .record-picker li.selected {\n   \tbackground-color: #d9edf7;\n   }\n\n   .record-picker li.selected:hover {\n   \tbackground-color: #c4e3f3;\n   }\n\n   .record-picker li.disabled {\n   \topacity: 0.5;\n   \tcursor: default;\n   \tbackground-color: inherit;\n   }\n\n   .record-picker li:first-child {\n   \tborder-top-left-radius: 8px;\n   \tborder-top-right-radius: 8px;\n   \tborder-top: none;\n   }\n\n   .record-picker li:last-child {\n   \tborder-bottom-left-radius: 8px;\n   \tborder-bottom-right-radius: 8px;\n   \tborder-bottom: none;\n   }\n\n   .record-picker label {\n   \tcursor: pointer;\n   \tfont-weight: inherit;\n   \tfont-size: 14px;\n   \tpadding: 4px;\n   \tmargin-bottom: -1px;\n   \t-webkit-touch-callout: none;\n   \t-webkit-user-select: none;\n   \t-moz-user-select: none;\n   \t-ms-user-select: none;\n   \tuser-select: none;\n   }\n\n   .record-picker ul.over {\n   \tbackground-color:lightgray;\n   }\n\n   .dual-list  {\n   \tdisplay: -webkit-box;\n   \tdisplay: -ms-flexbox;\n   \tdisplay: flex;\n   \t-webkit-box-orient: horizontal;\n   \t-webkit-box-direction: normal;\n   \t    -ms-flex-direction: row;\n   \t        flex-direction: row;\n   \t-ms-flex-line-pack: start;\n   \t    align-content: flex-start;\n   }\n\n   .dual-list .listbox {\n   \twidth: 50%;\n   \tmargin: 0px;\n   }\n\n   .dual-list .button-bar {\n   \tmargin-top: 8px;\n   }\n\n   /* &nbsp;&nbsp;&nbsp;&#9654; */\n   .point-right::after {\n   \tcontent: \"\\\\25B6\";\n   \tpadding-left: 1em;\n   }\n\n   /* &#9664;&nbsp;&nbsp;&nbsp; */\n   .point-left::before {\n   \tcontent: \"\\\\25C0\";\n   \tpadding-right: 1em;\n   }\n\n   .dual-list .button-bar button {\n   \twidth: 47%;\n   }\n\n   button.btn-block {\n   \tdisplay: block;\n   \twidth: 100%;\n   \tmargin-bottom: 8px;\n   }\n\n   .filter {\n   \tmargin-bottom: -2.2em;\n   }\n\n   .filter::after {\n   \tcontent:\"o\";\n   \twidth:40px;\n   \tcolor:transparent;\n   \tfont-size:2em;\n   \tbackground-image:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M0 64l192 192v192l128-32V256L512 64H0z\"/></svg>');\n   \tbackground-repeat:no-repeat;\n   \tbackground-position:center center;\n   \topacity:.2;\n   \ttop: -36px;\n   \tleft: calc(100% - 21px);\n   \tposition:relative;\n   }\n\t`]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: IterableDiffers, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'id': [{ type: Input },],\n'key': [{ type: Input },],\n'display': [{ type: Input },],\n'height': [{ type: Input },],\n'filter': [{ type: Input },],\n'format': [{ type: Input },],\n'sort': [{ type: Input },],\n'compare': [{ type: Input },],\n'disabled': [{ type: Input },],\n'source': [{ type: Input },],\n'destination': [{ type: Input },],\n'destinationChange': [{ type: Output },],\n};\n}\n\nfunction DualListComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDualListComponent.AVAILABLE_LIST_NAME;\n/** @type {?} */\nDualListComponent.CONFIRMED_LIST_NAME;\n/** @type {?} */\nDualListComponent.LTR;\n/** @type {?} */\nDualListComponent.RTL;\n/** @type {?} */\nDualListComponent.DEFAULT_FORMAT;\n/** @type {?} */\nDualListComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDualListComponent.ctorParameters;\n/** @type {?} */\nDualListComponent.propDecorators;\n/** @type {?} */\nDualListComponent.prototype.id;\n/** @type {?} */\nDualListComponent.prototype.key;\n/** @type {?} */\nDualListComponent.prototype.display;\n/** @type {?} */\nDualListComponent.prototype.height;\n/** @type {?} */\nDualListComponent.prototype.filter;\n/** @type {?} */\nDualListComponent.prototype.format;\n/** @type {?} */\nDualListComponent.prototype.sort;\n/** @type {?} */\nDualListComponent.prototype.compare;\n/** @type {?} */\nDualListComponent.prototype.disabled;\n/** @type {?} */\nDualListComponent.prototype.source;\n/** @type {?} */\nDualListComponent.prototype.destination;\n/** @type {?} */\nDualListComponent.prototype.destinationChange;\n/** @type {?} */\nDualListComponent.prototype.available;\n/** @type {?} */\nDualListComponent.prototype.confirmed;\n/** @type {?} */\nDualListComponent.prototype.sourceDiffer;\n/** @type {?} */\nDualListComponent.prototype.destinationDiffer;\n/** @type {?} */\nDualListComponent.prototype.sorter;\n/** @type {?} */\nDualListComponent.prototype.differs;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\nexport class BasicList {\n/**\n * Name of the list\n */\nprivate _name:string;\n/**\n * Last element touched\n */\nlast:any;\n/**\n * text filter\n */\npicker:string;\n\n\tdragStart:boolean;\n\tdragOver:boolean;\n\n\tpick:Array<any>;\n\tlist:Array<any>;\n\tsift:Array<any>;\n/**\n * @param {?} name\n */\nconstructor(name:string) {\n\t\tthis._name = name;\n\t\tthis.last = null;\n\t\tthis.picker = '';\n\t\tthis.dragStart = false;\n\t\tthis.dragOver = false;\n\n\t\t// Arrays will contain objects of { _id, _name }.\n\t\tthis.pick = [];\n\t\tthis.list = [];\n\t\tthis.sift = [];\n\t}\n/**\n * @return {?}\n */\nget name() : string {\n\t\treturn this._name;\n\t}\n}\n\nfunction BasicList_tsickle_Closure_declarations() {\n/**\n * Name of the list\n * @type {?}\n */\nBasicList.prototype._name;\n/**\n * Last element touched\n * @type {?}\n */\nBasicList.prototype.last;\n/**\n * text filter\n * @type {?}\n */\nBasicList.prototype.picker;\n/** @type {?} */\nBasicList.prototype.dragStart;\n/** @type {?} */\nBasicList.prototype.dragOver;\n/** @type {?} */\nBasicList.prototype.pick;\n/** @type {?} */\nBasicList.prototype.list;\n/** @type {?} */\nBasicList.prototype.sift;\n}\n\n"],"names":["FormsModule","CommonModule","NgModule","Output","Input","IterableDiffers","Component","EventEmitter"],"mappings":"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"}
