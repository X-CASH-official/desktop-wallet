{"version":3,"file":"angular-dual-listbox.umd.min.js","sources":["~/angular-dual-listbox/src/basic-list.ts","~/angular-dual-listbox/src/dual-list.component.ts","~/angular-dual-listbox/src/angular-dual-listbox.module.ts"],"sourcesContent":["\nexport class BasicList {\n/**\n * Name of the list\n */\nprivate _name:string;\n/**\n * Last element touched\n */\nlast:any;\n/**\n * text filter\n */\npicker:string;\n\n\tdragStart:boolean;\n\tdragOver:boolean;\n\n\tpick:Array<any>;\n\tlist:Array<any>;\n\tsift:Array<any>;\n/**\n * @param {?} name\n */\nconstructor(name:string) {\n\t\tthis._name = name;\n\t\tthis.last = null;\n\t\tthis.picker = '';\n\t\tthis.dragStart = false;\n\t\tthis.dragOver = false;\n\n\t\t// Arrays will contain objects of { _id, _name }.\n\t\tthis.pick = [];\n\t\tthis.list = [];\n\t\tthis.sift = [];\n\t}\n/**\n * @return {?}\n */\nget name() : string {\n\t\treturn this._name;\n\t}\n}\n\nfunction BasicList_tsickle_Closure_declarations() {\n/**\n * Name of the list\n * @type {?}\n */\nBasicList.prototype._name;\n/**\n * Last element touched\n * @type {?}\n */\nBasicList.prototype.last;\n/**\n * text filter\n * @type {?}\n */\nBasicList.prototype.picker;\n/** @type {?} */\nBasicList.prototype.dragStart;\n/** @type {?} */\nBasicList.prototype.dragOver;\n/** @type {?} */\nBasicList.prototype.pick;\n/** @type {?} */\nBasicList.prototype.list;\n/** @type {?} */\nBasicList.prototype.sift;\n}\n\n","import { Component, DoCheck, EventEmitter, Input, IterableDiffers, OnChanges,\n\tOutput, SimpleChange } from '@angular/core';\n\nimport { BasicList } from './basic-list';\n\nexport type compareFunction = (a:any, b:any) => number;\n\nvar /** @type {?} */ nextId = 0;\nexport class DualListComponent implements DoCheck, OnChanges {\n\tstatic AVAILABLE_LIST_NAME = 'available';\n\tstatic CONFIRMED_LIST_NAME = 'confirmed';\n\n\tstatic LTR = 'left-to-right';\n\tstatic RTL = 'right-to-left';\n\n\tstatic DEFAULT_FORMAT = {\n\t\tadd: 'Add',\n\t\tremove: 'Remove',\n\t\tall: 'All',\n\t\tnone: 'None',\n\t\tdirection: DualListComponent.LTR,\n\t\tdraggable: true,\n\t\tlocale: undefined\n\t};\n\n\t id = `dual-list-${nextId++}`;\n\t key = '_id';\n\t display:any = '_name';\n\t height = '100px';\n\t filter = false;\n\t format = DualListComponent.DEFAULT_FORMAT;\n\t sort = false;\n\t compare:compareFunction;\n\t disabled = false;\n\t source:Array<any>;\n\t destination:Array<any>;\n\t destinationChange = new EventEmitter();\n\n\tavailable:BasicList;\n\tconfirmed:BasicList;\n\n\tsourceDiffer:any;\n\tdestinationDiffer:any;\nprivate sorter = (a:any, b:any) => { return (a._name < b._name) ? -1 : ((a._name > b._name) ? 1 : 0); };\n/**\n * @param {?} differs\n */\nconstructor(private differs:IterableDiffers) {\n\t\tthis.available = new BasicList(DualListComponent.AVAILABLE_LIST_NAME);\n\t\tthis.confirmed = new BasicList(DualListComponent.CONFIRMED_LIST_NAME);\n\t}\n/**\n * @param {?} changeRecord\n * @return {?}\n */\nngOnChanges(changeRecord: {[key:string]:SimpleChange}) {\n\t\tif (changeRecord['filter']) {\n\t\t\tif (changeRecord['filter'].currentValue === false) {\n\t\t\t\tthis.clearFilter(this.available);\n\t\t\t\tthis.clearFilter(this.confirmed);\n\t\t\t}\n\t\t}\n\n\t\tif (changeRecord['sort']) {\n\t\t\tif (changeRecord['sort'].currentValue === true && this.compare === undefined) {\n\t\t\t\tthis.compare = this.sorter;\n\t\t\t} else if (changeRecord['sort'].currentValue === false) {\n\t\t\t\tthis.compare = undefined;\n\t\t\t}\n\t\t}\n\n\t\tif (changeRecord['format']) {\n\t\t\tthis.format = changeRecord['format'].currentValue;\n\n\t\t\tif (typeof(this.format.direction) === 'undefined') {\n\t\t\t\tthis.format.direction = DualListComponent.LTR;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.add) === 'undefined') {\n\t\t\t\tthis.format.add = DualListComponent.DEFAULT_FORMAT.add;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.remove) === 'undefined') {\n\t\t\t\tthis.format.remove = DualListComponent.DEFAULT_FORMAT.remove;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.all) === 'undefined') {\n\t\t\t\tthis.format.all = DualListComponent.DEFAULT_FORMAT.all;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.none) === 'undefined') {\n\t\t\t\tthis.format.none = DualListComponent.DEFAULT_FORMAT.none;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.draggable) === 'undefined') {\n\t\t\t\tthis.format.draggable = DualListComponent.DEFAULT_FORMAT.draggable;\n\t\t\t}\n\t\t}\n\n\t\tif (changeRecord['source']) {\n\t\t\tthis.available = new BasicList(DualListComponent.AVAILABLE_LIST_NAME);\n\t\t\tthis.updatedSource();\n\t\t\tthis.updatedDestination();\n\t\t}\n\n\t\tif (changeRecord['destination']) {\n\t\t\tthis.confirmed = new BasicList(DualListComponent.CONFIRMED_LIST_NAME);\n\t\t\tthis.updatedDestination();\n\t\t\tthis.updatedSource();\n\t\t}\n\t}\n/**\n * @return {?}\n */\nngDoCheck() {\n\t\tif (this.source && this.buildAvailable(this.source)) {\n\t\t\tthis.onFilter(this.available);\n\t\t}\n\t\tif (this.destination && this.buildConfirmed(this.destination)) {\n\t\t\tthis.onFilter(this.confirmed);\n\t\t}\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nbuildAvailable(source:Array<any>) : boolean {\n\t\tconst /** @type {?} */ sourceChanges = this.sourceDiffer.diff(source);\n\t\tif (sourceChanges) {\n\t\t\tsourceChanges.forEachRemovedItem((r:any) => {\n\t\t\t\tconst /** @type {?} */ idx = this.findItemIndex(this.available.list, r.item, this.key);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tthis.available.list.splice(idx, 1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsourceChanges.forEachAddedItem((r:any) => {\n\t\t\t\t// Do not add duplicates even if source has duplicates.\n\t\t\t\tif (this.findItemIndex(this.available.list, r.item, this.key) === -1) {\n\t\t\t\t\tthis.available.list.push( { _id: this.makeId(r.item), _name: this.makeName(r.item) });\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (this.compare !== undefined) {\n\t\t\t\tthis.available.list.sort(this.compare);\n\t\t\t}\n\t\t\tthis.available.sift = this.available.list;\n\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} destination\n * @return {?}\n */\nbuildConfirmed(destination:Array<any>) : boolean {\n\t\tlet /** @type {?} */ moved = false;\n\t\tconst /** @type {?} */ destChanges = this.destinationDiffer.diff(destination);\n\t\tif (destChanges) {\n\t\t\tdestChanges.forEachRemovedItem((r:any) => {\n\t\t\t\tconst /** @type {?} */ idx = this.findItemIndex(this.confirmed.list, r.item, this.key);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tif (!this.isItemSelected(this.confirmed.pick, this.confirmed.list[idx])) {\n\t\t\t\t\t\tthis.selectItem(this.confirmed.pick, this.confirmed.list[idx]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveItem(this.confirmed, this.available, this.confirmed.list[idx], false);\n\t\t\t\t\tmoved = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdestChanges.forEachAddedItem((r:any) => {\n\t\t\t\tconst /** @type {?} */ idx = this.findItemIndex(this.available.list, r.item, this.key);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tif (!this.isItemSelected(this.available.pick, this.available.list[idx])) {\n\t\t\t\t\t\tthis.selectItem(this.available.pick, this.available.list[idx]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveItem(this.available, this.confirmed, this.available.list[idx], false);\n\t\t\t\t\tmoved = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (this.compare !== undefined) {\n\t\t\t\tthis.confirmed.list.sort(this.compare);\n\t\t\t}\n\t\t\tthis.confirmed.sift = this.confirmed.list;\n\n\t\t\tif (moved) {\n\t\t\t\tthis.trueUp();\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @return {?}\n */\nupdatedSource() {\n\t\tthis.available.list.length = 0;\n\t\tthis.available.pick.length = 0;\n\n\t\tif (this.source !== undefined) {\n\t\t\tthis.sourceDiffer = this.differs.find(this.source).create(null);\n\t\t}\n\t}\n/**\n * @return {?}\n */\nupdatedDestination() {\n\t\tif (this.destination !== undefined) {\n\t\t\tthis.destinationDiffer = this.differs.find(this.destination).create(null);\n\t\t}\n\t}\n/**\n * @return {?}\n */\ndirection() {\n\t\treturn this.format.direction === DualListComponent.LTR;\n\t}\n/**\n * @param {?=} list\n * @return {?}\n */\ndragEnd(list:BasicList = null) : boolean {\n\t\tif (list) {\n\t\t\tlist.dragStart = false;\n\t\t} else {\n\t\t\tthis.available.dragStart = false;\n\t\t\tthis.confirmed.dragStart = false;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} event\n * @param {?} item\n * @param {?} list\n * @return {?}\n */\ndrag(event:DragEvent, item:any, list:BasicList) {\n\t\tif (!this.isItemSelected(list.pick, item)) {\n\t\t\tthis.selectItem(list.pick, item);\n\t\t}\n\t\tlist.dragStart = true;\n\n\t\t// Set a custom type to be this dual-list's id.\n\t\tevent.dataTransfer.setData(this.id, item['_id']);\n\t}\n/**\n * @param {?} event\n * @param {?} list\n * @return {?}\n */\nallowDrop(event:DragEvent, list:BasicList) : boolean {\n\t\tif (event.dataTransfer.types.length && (event.dataTransfer.types[0] === this.id)) {\n\t\t\tevent.preventDefault();\n\t\t\tif (!list.dragStart) {\n\t\t\t\tlist.dragOver = true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @return {?}\n */\ndragLeave() {\n\t\tthis.available.dragOver = false;\n\t\tthis.confirmed.dragOver = false;\n\t}\n/**\n * @param {?} event\n * @param {?} list\n * @return {?}\n */\ndrop(event:DragEvent, list:BasicList) {\n\t\tif (event.dataTransfer.types.length && (event.dataTransfer.types[0] === this.id)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.dragLeave();\n\t\t\tthis.dragEnd();\n\n\t\t\tif (list === this.available) {\n\t\t\t\tthis.moveItem(this.available, this.confirmed);\n\t\t\t} else {\n\t\t\t\tthis.moveItem(this.confirmed, this.available);\n\t\t\t}\n\t\t}\n\t}\n/**\n * @return {?}\n */\nprivate trueUp() {\n\t\tlet /** @type {?} */ changed = false;\n\n\t\t// Clear removed items.\n\t\tlet /** @type {?} */ pos = this.destination.length;\n\t\twhile ((pos -= 1) >= 0) {\n\t\t\tconst /** @type {?} */ mv = this.confirmed.list.filter( conf => {\n\t\t\t\tif (typeof this.destination[pos] === 'object') {\n\t\t\t\t\treturn conf._id === this.destination[pos][this.key];\n\t\t\t\t} else {\n\t\t\t\t\treturn conf._id === this.destination[pos];\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (mv.length === 0) {\n\t\t\t\t// Not found so remove.\n\t\t\t\tthis.destination.splice(pos, 1);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t}\n\n\t\t// Push added items.\n\t\tfor (let /** @type {?} */ i = 0, /** @type {?} */ len = this.confirmed.list.length; i < len; i += 1) {\n\t\t\tlet /** @type {?} */ mv = this.destination.filter( (d:any) => {\n\t\t\t\tif (typeof d === 'object') {\n\t\t\t\t\treturn (d[this.key] === this.confirmed.list[i]._id);\n\t\t\t\t} else {\n\t\t\t\t\treturn (d === this.confirmed.list[i]._id);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (mv.length === 0) {\n\t\t\t\t// Not found so add.\n\t\t\t\tmv = this.source.filter( (o:any) => {\n\t\t\t\t\tif (typeof o === 'object') {\n\t\t\t\t\t\treturn (o[this.key] === this.confirmed.list[i]._id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn (o === this.confirmed.list[i]._id);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (mv.length > 0) {\n\t\t\t\t\tthis.destination.push(mv[0]);\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (changed) {\n\t\t\tthis.destinationChange.emit(this.destination);\n\t\t}\n\t}\n/**\n * @param {?} list\n * @param {?} item\n * @param {?=} key\n * @return {?}\n */\nfindItemIndex(list:Array<any>, item:any, key:any = '_id') {\n\t\tlet /** @type {?} */ idx = -1;\n/**\n * @param {?} e\n * @return {?}\n */\nfunction matchObject(e:any) {\n\t\t\tif (e._id === item[key]) {\n\t\t\t\tidx = list.indexOf(e);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction match(e:any) {\n\t\t\tif (e._id === item) {\n\t\t\t\tidx = list.indexOf(e);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\t// Assumption is that the arrays do not have duplicates.\n\t\tif (typeof item === 'object') {\n\t\t\tlist.filter(matchObject);\n\t\t} else {\n\t\t\tlist.filter(match);\n\t\t}\n\n\t\treturn idx;\n\t}\n/**\n * @param {?} source\n * @param {?} item\n * @return {?}\n */\nprivate makeUnavailable(source:BasicList, item:any) {\n\t\tconst /** @type {?} */ idx = source.list.indexOf(item);\n\t\tif (idx !== -1) {\n\t\t\tsource.list.splice(idx, 1);\n\t\t}\n\t}\n/**\n * @param {?} source\n * @param {?} target\n * @param {?=} item\n * @param {?=} trueup\n * @return {?}\n */\nmoveItem(source:BasicList, target:BasicList, item:any = null, trueup = true) {\n\t\tlet /** @type {?} */ i = 0;\n\t\tlet /** @type {?} */ len = source.pick.length;\n\n\t\tif (item) {\n\t\t\ti = source.list.indexOf(item);\n\t\t\tlen = i + 1;\n\t\t}\n\n\t\tfor (; i < len; i += 1) {\n\t\t\t// Is the pick still in list?\n\t\t\tlet /** @type {?} */ mv:Array<any> = [];\n\t\t\tif (item) {\n\t\t\t\tconst /** @type {?} */ idx = this.findItemIndex(source.pick, item);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tmv[0] = source.pick[idx];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmv = source.list.filter( src => {\n\t\t\t\t\treturn (src._id === source.pick[i]._id);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Should only ever be 1\n\t\t\tif (mv.length === 1) {\n\t\t\t\t// Add if not already in target.\n\t\t\t\tif (target.list.filter(trg => trg._id === mv[0]._id).length === 0) {\n\t\t\t\t\ttarget.list.push( mv[0] );\n\t\t\t\t}\n\n\t\t\t\tthis.makeUnavailable(source, mv[0]);\n\t\t\t}\n\t\t}\n\n\t\tif (this.compare !== undefined) {\n\t\t\ttarget.list.sort(this.compare);\n\t\t}\n\n\t\tsource.pick.length = 0;\n\n\t\t// Update destination\n\t\tif (trueup) {\n\t\t\tthis.trueUp();\n\t\t}\n\n\t\t// Delay ever-so-slightly to prevent race condition.\n\t\tsetTimeout( () => {\n\t\t\tthis.onFilter(source);\n\t\t\tthis.onFilter(target);\n\t\t}, 10);\n\t}\n/**\n * @param {?} list\n * @param {?} item\n * @return {?}\n */\nisItemSelected(list:Array<any>, item:any) : boolean {\n\t\tif (list.filter(e => Object.is(e, item)).length > 0) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} event\n * @param {?} index\n * @param {?} source\n * @param {?} item\n * @return {?}\n */\nshiftClick(event:MouseEvent, index:number, source:BasicList, item:any) {\n\t\tif (event.shiftKey && source.last && !Object.is(item, source.last)) {\n\t\t\tconst /** @type {?} */ idx = source.sift.indexOf(source.last);\n\t\t\tif (index > idx) {\n\t\t\t\tfor (let /** @type {?} */ i = (idx + 1); i < index; i += 1) {\n\t\t\t\t\tthis.selectItem(source.pick, source.sift[i]);\n\t\t\t\t}\n\t\t\t} else if (idx !== -1) {\n\t\t\t\tfor (let /** @type {?} */ i = (index + 1); i < idx; i += 1)  {\n\t\t\t\t\tthis.selectItem(source.pick, source.sift[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsource.last = item;\n\t}\n/**\n * @param {?} list\n * @param {?} item\n * @return {?}\n */\nselectItem(list:Array<any>, item:any) {\n\t\tconst /** @type {?} */ pk = list.filter( (e:any) => {\n\t\t\treturn Object.is(e, item);\n\t\t});\n\t\tif (pk.length > 0) {\n\t\t\t// Already in list, so deselect.\n\t\t\tfor (let /** @type {?} */ i = 0, /** @type {?} */ len = pk.length; i < len; i += 1) {\n\t\t\t\tconst /** @type {?} */ idx = list.indexOf(pk[i]);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tlist.splice(idx, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tlist.push(item);\n\t\t}\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nselectAll(source:BasicList) {\n\t\tsource.pick.length = 0;\n\t\tsource.pick = source.sift.slice(0);\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nselectNone(source:BasicList) {\n\t\tsource.pick.length = 0;\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nisAllSelected(source:BasicList) : boolean {\n\t\tif (source.list.length === 0 || source.list.length === source.pick.length) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nisAnySelected(source:BasicList) : boolean {\n\t\tif (source.pick.length > 0) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nprivate unpick(source:BasicList) {\n\t\tfor (let /** @type {?} */ i = source.pick.length - 1; i >= 0; i -= 1) {\n\t\t\tif (source.sift.indexOf(source.pick[i]) === -1) {\n\t\t\t\tsource.pick.splice(i, 1);\n\t\t\t}\n\t\t}\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nclearFilter(source:BasicList) {\n\t\tif (source) {\n\t\t\tsource.picker = '';\n\t\t\tthis.onFilter(source);\n\t\t}\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nonFilter(source:BasicList) {\n\t\tif (source.picker.length > 0) {\n\t\t\ttry {\n\t\t\t\tconst /** @type {?} */ filtered = source.list.filter( (item:any) => {\n\t\t\t\t\tif (Object.prototype.toString.call(item) === '[object Object]') {\n\t\t\t\t\t\tif (item._name !== undefined) {\n\t\t\t\t\t\t\t// @ts-ignore: remove when d.ts has locale as an argument.\n\t\t\t\t\t\t\treturn item._name.toLocaleLowerCase(this.format.locale).indexOf(source.picker.toLocaleLowerCase(this.format.locale)) !== -1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// @ts-ignore: remove when d.ts has locale as an argument.\n\t\t\t\t\t\t\treturn JSON.stringify(item).toLocaleLowerCase(this.format.locale).indexOf(source.picker.toLocaleLowerCase(this.format.locale)) !== -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// @ts-ignore: remove when d.ts has locale as an argument.\n\t\t\t\t\t\treturn item.toLocaleLowerCase(this.format.locale).indexOf(source.picker.toLocaleLowerCase(this.format.locale)) !== -1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tsource.sift = filtered;\n\t\t\t\tthis.unpick(source);\n\t\t\t}\n\t\t\tcatch ( /** @type {?} */e) {\n\t\t\t\tif (e instanceof RangeError) {\n\t\t\t\t\tthis.format.locale = undefined;\n\t\t\t\t}\n\t\t\t\tsource.sift = source.list;\n\t\t\t}\n\t\t} else {\n\t\t\tsource.sift = source.list;\n\t\t}\n\t}\n/**\n * @param {?} item\n * @return {?}\n */\nprivate makeId(item:any) : string | number {\n\t\tif (typeof item === 'object') {\n\t\t\treturn item[this.key];\n\t\t} else {\n\t\t\treturn item;\n\t\t}\n\t}\n/**\n * @param {?} item\n * @param {?=} separator\n * @return {?}\n */\nprotected makeName(item:any, separator = '_') : string {\n\t\tconst /** @type {?} */ display = this.display;\n/**\n * @param {?} itm\n * @return {?}\n */\nfunction fallback(itm:any) {\n\t\t\tswitch (Object.prototype.toString.call(itm)) {\n\t\t\tcase '[object Number]':\n\t\t\t\treturn itm;\n\t\t\tcase '[object String]':\n\t\t\t\treturn itm;\n\t\t\tdefault:\n\t\t\t\tif (itm !== undefined) {\n\t\t\t\t\treturn itm[display];\n\t\t\t\t} else {\n\t\t\t\t\treturn 'undefined';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet /** @type {?} */ str = '';\n\n\t\tif (this.display !== undefined) {\n\t\t\tswitch (Object.prototype.toString.call(this.display)) {\n\t\t\tcase '[object Function]':\n\t\t\t\tstr = this.display(item);\n\t\t\t\tbreak;\n\n\t\t\tcase '[object Array]':\n\t\t\t\tfor (let /** @type {?} */ i = 0, /** @type {?} */ len = this.display.length; i < len; i += 1) {\n\t\t\t\t\tif (str.length > 0) {\n\t\t\t\t\t\tstr = str + separator;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.display[i].indexOf('.') === -1) {\n\t\t\t\t\t\t// Simple, just add to string.\n\t\t\t\t\t\tstr = str + item[this.display[i]];\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Complex, some action needs to be performed\n\t\t\t\t\t\tconst /** @type {?} */ parts = this.display[i].split('.');\n\n\t\t\t\t\t\tconst /** @type {?} */ s = item[parts[0]];\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\t// Use brute force\n\t\t\t\t\t\t\tif (parts[1].indexOf('substring') !== -1) {\n\t\t\t\t\t\t\t\tconst /** @type {?} */ nums = (parts[1].substring(parts[1].indexOf('(') + 1, parts[1].indexOf(')'))).split(',');\n\n\t\t\t\t\t\t\t\tswitch (nums.length) {\n\t\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t\tstr = str + s.substring(parseInt(nums[0], 10));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\tstr = str + s.substring(parseInt(nums[0], 10), parseInt(nums[1], 10));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tstr = str + s;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// method not approved, so just add s.\n\t\t\t\t\t\t\t\tstr = str + s;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tstr = fallback(item);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tstr = fallback(item);\n\t\t}\n\n\t\treturn str;\n\t}\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n\tselector: 'dual-list',\n\ttemplate: `\n   <div class=\"dual-list\">\n   \t<div class=\"listbox\" [ngStyle]=\"{ 'order' :  direction() ? 1 : 2, 'margin-left' : direction() ? 0 : '10px' }\">\n   \t\t<button type=\"button\" name=\"addBtn\" class=\"btn btn-primary btn-block\"\n   \t\t\t(click)=\"moveItem(available, confirmed)\" [ngClass]=\"direction() ? 'point-right' : 'point-left'\"\n   \t\t\t[disabled]=\"available.pick.length === 0\">{{format.add}}</button>\n\n   \t\t<form *ngIf=\"filter\" class=\"filter\">\n   \t\t\t<input class=\"form-control\" name=\"filterSource\" [(ngModel)]=\"available.picker\" (ngModelChange)=\"onFilter(available)\">\n   \t\t</form>\n\n   \t\t<div class=\"record-picker\">\n   \t\t\t<ul [ngStyle]=\"{'max-height': height, 'min-height': height}\" [ngClass]=\"{over:available.dragOver}\"\n   \t\t\t\t(drop)=\"drop($event, confirmed)\" (dragover)=\"allowDrop($event, available)\" (dragleave)=\"dragLeave()\">\n   \t\t\t\t<li *ngFor=\"let item of available.sift; let idx=index;\"\n   \t\t\t\t\t(click)=\"disabled ? null : selectItem(available.pick, item); shiftClick($event, idx, available, item)\"\n   \t\t\t\t\t[ngClass]=\"{selected: isItemSelected(available.pick, item), disabled: disabled}\"\n   \t\t\t\t\t[draggable]=\"!disabled && format.draggable\" (dragstart)=\"drag($event, item, available)\" (dragend)=\"dragEnd(available)\"\n   \t\t\t\t><label>{{item._name}}</label></li>\n   \t\t\t</ul>\n   \t\t</div>\n\n   \t\t<div class=\"button-bar\">\n   \t\t\t<button type=\"button\" class=\"btn btn-primary pull-left\" (click)=\"selectAll(available)\"\n   \t\t\t\t[disabled]=\"disabled || isAllSelected(available)\">{{format.all}}</button>\n   \t\t\t<button type=\"button\" class=\"btn btn-default pull-right\" (click)=\"selectNone(available)\"\n   \t\t\t\t[disabled]=\"!isAnySelected(available)\">{{format.none}}</button>\n   \t\t</div>\n   \t</div>\n\n   \t<div class=\"listbox\" [ngStyle]=\"{ 'order' : direction() ? 2 : 1, 'margin-left' : direction() ? '10px' : 0 }\">\n   \t\t<button type=\"button\" name=\"removeBtn\" class=\"btn btn-primary btn-block\"\n   \t\t\t(click)=\"moveItem(confirmed, available)\" [ngClass]=\"direction() ? 'point-left' : 'point-right'\"\n   \t\t\t[disabled]=\"confirmed.pick.length === 0\">{{format.remove}}</button>\n\n   \t\t<form *ngIf=\"filter\" class=\"filter\">\n   \t\t\t<input class=\"form-control\" name=\"filterDestination\" [(ngModel)]=\"confirmed.picker\" (ngModelChange)=\"onFilter(confirmed)\">\n   \t\t</form>\n\n   \t\t<div class=\"record-picker\">\n   \t\t\t<ul [ngStyle]=\"{'max-height': height, 'min-height': height}\" [ngClass]=\"{over:confirmed.dragOver}\"\n   \t\t\t\t(drop)=\"drop($event, available)\" (dragover)=\"allowDrop($event, confirmed)\" (dragleave)=\"dragLeave()\">\n   \t\t\t\t<li #itmConf *ngFor=\"let item of confirmed.sift; let idx=index;\"\n   \t\t\t\t\t(click)=\"disabled ? null : selectItem(confirmed.pick, item); shiftClick($event, idx, confirmed, item)\"\n   \t\t\t\t\t[ngClass]=\"{selected: isItemSelected(confirmed.pick, item), disabled: disabled}\"\n   \t\t\t\t\t[draggable]=\"!disabled && format.draggable\" (dragstart)=\"drag($event, item, confirmed)\" (dragend)=\"dragEnd(confirmed)\"\n   \t\t\t\t><label>{{item._name}}</label></li>\n   \t\t\t</ul>\n   \t\t</div>\n\n   \t\t<div class=\"button-bar\">\n   \t\t\t<button type=\"button\" class=\"btn btn-primary pull-left\" (click)=\"selectAll(confirmed)\"\n   \t\t\t\t[disabled]=\"disabled || isAllSelected(confirmed)\">{{format.all}}</button>\n   \t\t\t<button type=\"button\" class=\"btn btn-default pull-right\" (click)=\"selectNone(confirmed)\"\n   \t\t\t\t[disabled]=\"!isAnySelected(confirmed)\">{{format.none}}</button>\n   \t\t</div>\n   \t</div>\n   </div>\n\t`,\n\tstyles: [`\n   div.record-picker {\n   \toverflow-x: hidden;\n   \toverflow-y: auto;\n   \tborder: 1px solid #ddd;\n   \tborder-radius:8px;\n   \tposition: relative;\n   \tcursor: pointer;\n   }\n\n   /* http://www.ourtuts.com/how-to-customize-browser-scrollbars-using-css3/ */\n   div.record-picker::-webkit-scrollbar {\n   \twidth: 12px;\n   }\n\n   div.record-picker::-webkit-scrollbar-button {\n   \twidth: 0px;\n   \theight: 0px;\n   }\n\n   div.record-picker {\n   \tscrollbar-base-color: #337ab7;\n   \tscrollbar-3dlight-color: #337ab7;\n   \tscrollbar-highlight-color: #337ab7;\n   \tscrollbar-track-color: #eee;\n   \tscrollbar-arrow-color: gray;\n   \tscrollbar-shadow-color: gray;\n   \tscrollbar-dark-shadow-color: gray;\n   }\n\n   div.record-picker::-webkit-scrollbar-track {\n   \tbackground:#eee;\n   \t-webkit-box-shadow: 0px 0px 3px #dfdfdf inset;\n   \t        box-shadow: 0px 0px 3px #dfdfdf inset;\n   \tborder-top-right-radius: 8px;\n   \tborder-bottom-right-radius: 8px;\n   }\n\n   div.record-picker::-webkit-scrollbar-thumb {\n   \tbackground: #337ab7;\n   \tborder: thin solid gray;\n   \tborder-top-right-radius: 8px;\n   \tborder-bottom-right-radius: 8px;\n   }\n\n   div.record-picker::-webkit-scrollbar-thumb:hover {\n   \tbackground: #286090;\n   }\n\n   .record-picker ul {\n   \tmargin: 0;\n   \tpadding: 0 0 1px 0;\n   }\n\n   .record-picker li {\n   \tborder-top: thin solid #ddd;\n   \tborder-bottom: 1px solid #ddd;\n   \tdisplay: block;\n   \tpadding: 2px 2px 2px 10px;\n   \tmargin-bottom: -1px;\n   \tfont-size: 0.85em;\n   \tcursor: pointer;\n   \twhite-space: nowrap;\n   \tmin-height:16px;\n   }\n\n   .record-picker li:hover {\n   \tbackground-color: #f5f5f5;\n   }\n\n   .record-picker li.selected {\n   \tbackground-color: #d9edf7;\n   }\n\n   .record-picker li.selected:hover {\n   \tbackground-color: #c4e3f3;\n   }\n\n   .record-picker li.disabled {\n   \topacity: 0.5;\n   \tcursor: default;\n   \tbackground-color: inherit;\n   }\n\n   .record-picker li:first-child {\n   \tborder-top-left-radius: 8px;\n   \tborder-top-right-radius: 8px;\n   \tborder-top: none;\n   }\n\n   .record-picker li:last-child {\n   \tborder-bottom-left-radius: 8px;\n   \tborder-bottom-right-radius: 8px;\n   \tborder-bottom: none;\n   }\n\n   .record-picker label {\n   \tcursor: pointer;\n   \tfont-weight: inherit;\n   \tfont-size: 14px;\n   \tpadding: 4px;\n   \tmargin-bottom: -1px;\n   \t-webkit-touch-callout: none;\n   \t-webkit-user-select: none;\n   \t-moz-user-select: none;\n   \t-ms-user-select: none;\n   \tuser-select: none;\n   }\n\n   .record-picker ul.over {\n   \tbackground-color:lightgray;\n   }\n\n   .dual-list  {\n   \tdisplay: -webkit-box;\n   \tdisplay: -ms-flexbox;\n   \tdisplay: flex;\n   \t-webkit-box-orient: horizontal;\n   \t-webkit-box-direction: normal;\n   \t    -ms-flex-direction: row;\n   \t        flex-direction: row;\n   \t-ms-flex-line-pack: start;\n   \t    align-content: flex-start;\n   }\n\n   .dual-list .listbox {\n   \twidth: 50%;\n   \tmargin: 0px;\n   }\n\n   .dual-list .button-bar {\n   \tmargin-top: 8px;\n   }\n\n   /* &nbsp;&nbsp;&nbsp;&#9654; */\n   .point-right::after {\n   \tcontent: \"\\\\25B6\";\n   \tpadding-left: 1em;\n   }\n\n   /* &#9664;&nbsp;&nbsp;&nbsp; */\n   .point-left::before {\n   \tcontent: \"\\\\25C0\";\n   \tpadding-right: 1em;\n   }\n\n   .dual-list .button-bar button {\n   \twidth: 47%;\n   }\n\n   button.btn-block {\n   \tdisplay: block;\n   \twidth: 100%;\n   \tmargin-bottom: 8px;\n   }\n\n   .filter {\n   \tmargin-bottom: -2.2em;\n   }\n\n   .filter::after {\n   \tcontent:\"o\";\n   \twidth:40px;\n   \tcolor:transparent;\n   \tfont-size:2em;\n   \tbackground-image:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M0 64l192 192v192l128-32V256L512 64H0z\"/></svg>');\n   \tbackground-repeat:no-repeat;\n   \tbackground-position:center center;\n   \topacity:.2;\n   \ttop: -36px;\n   \tleft: calc(100% - 21px);\n   \tposition:relative;\n   }\n\t`]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: IterableDiffers, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'id': [{ type: Input },],\n'key': [{ type: Input },],\n'display': [{ type: Input },],\n'height': [{ type: Input },],\n'filter': [{ type: Input },],\n'format': [{ type: Input },],\n'sort': [{ type: Input },],\n'compare': [{ type: Input },],\n'disabled': [{ type: Input },],\n'source': [{ type: Input },],\n'destination': [{ type: Input },],\n'destinationChange': [{ type: Output },],\n};\n}\n\nfunction DualListComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDualListComponent.AVAILABLE_LIST_NAME;\n/** @type {?} */\nDualListComponent.CONFIRMED_LIST_NAME;\n/** @type {?} */\nDualListComponent.LTR;\n/** @type {?} */\nDualListComponent.RTL;\n/** @type {?} */\nDualListComponent.DEFAULT_FORMAT;\n/** @type {?} */\nDualListComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDualListComponent.ctorParameters;\n/** @type {?} */\nDualListComponent.propDecorators;\n/** @type {?} */\nDualListComponent.prototype.id;\n/** @type {?} */\nDualListComponent.prototype.key;\n/** @type {?} */\nDualListComponent.prototype.display;\n/** @type {?} */\nDualListComponent.prototype.height;\n/** @type {?} */\nDualListComponent.prototype.filter;\n/** @type {?} */\nDualListComponent.prototype.format;\n/** @type {?} */\nDualListComponent.prototype.sort;\n/** @type {?} */\nDualListComponent.prototype.compare;\n/** @type {?} */\nDualListComponent.prototype.disabled;\n/** @type {?} */\nDualListComponent.prototype.source;\n/** @type {?} */\nDualListComponent.prototype.destination;\n/** @type {?} */\nDualListComponent.prototype.destinationChange;\n/** @type {?} */\nDualListComponent.prototype.available;\n/** @type {?} */\nDualListComponent.prototype.confirmed;\n/** @type {?} */\nDualListComponent.prototype.sourceDiffer;\n/** @type {?} */\nDualListComponent.prototype.destinationDiffer;\n/** @type {?} */\nDualListComponent.prototype.sorter;\n/** @type {?} */\nDualListComponent.prototype.differs;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { DualListComponent } from './dual-list.component';\nexport class AngularDualListBoxModule {static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n\timports:      [\n\t\tCommonModule,\n\t\tFormsModule\n\t],\n\tdeclarations: [ DualListComponent ],\n\texports:      [ DualListComponent ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction AngularDualListBoxModule_tsickle_Closure_declarations() {\n/** @type {?} */\nAngularDualListBoxModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAngularDualListBoxModule.ctorParameters;\n}\n\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["BasicList","name","this","_name","last","picker","dragStart","dragOver","pick","list","sift","Object","defineProperty","prototype","get","nextId","DualListComponent","differs","id","key","display","height","filter","format","DEFAULT_FORMAT","sort","disabled","destinationChange","EventEmitter","sorter","a","b","available","AVAILABLE_LIST_NAME","confirmed","CONFIRMED_LIST_NAME","ngOnChanges","changeRecord","currentValue","clearFilter","compare","undefined","direction","LTR","add","remove","all","none","draggable","updatedSource","updatedDestination","ngDoCheck","source","buildAvailable","onFilter","destination","buildConfirmed","_this","sourceChanges","sourceDiffer","diff","forEachRemovedItem","r","idx","findItemIndex","item","splice","forEachAddedItem","push","_id","makeId","makeName","moved","destChanges","destinationDiffer","isItemSelected","selectItem","moveItem","trueUp","length","find","create","dragEnd","drag","event","dataTransfer","setData","allowDrop","types","preventDefault","dragLeave","drop","changed","pos","conf","_loop_1","i","len","mv","this_1","d","o","emit","e","indexOf","makeUnavailable","target","trueup","this_2","src","trg","setTimeout","is","shiftClick","index","shiftKey","pk","selectAll","slice","selectNone","isAllSelected","isAnySelected","unpick","filtered","toString","call","toLocaleLowerCase","locale","JSON","stringify","RangeError","separator","fallback","itm","str","parts","split","s","nums","substring","parseInt","RTL","decorators","type","Component","args","selector","template","styles","ctorParameters","IterableDiffers","propDecorators","Input","Output","AngularDualListBoxModule","NgModule","imports","CommonModule","FormsModule","declarations","exports"],"mappings":"kXACA,IAAAA,EAAA,WAuBA,SAAAA,EAREC,GASAC,KAAKC,MAAQF,EACbC,KAAKE,KAAO,KACZF,KAAKG,OAAS,GACdH,KAAKI,WAAY,EACjBJ,KAAKK,UAAW,EAGhBL,KAAKM,QACLN,KAAKO,QACLP,KAAKQ,QAQP,OAHAC,OAAAC,eAVEZ,EAUFa,UAAA,QAAAC,IAAA,WACE,OAVOZ,KAAKC,uCAYdH,EAzCA,GCMIe,EAAS,EACbC,EAAA,WAuCA,SAAAA,EAEqBC,GAAAf,KAArBe,QAAqBA,EAxBnBf,KAAFgB,GAGO,aAAAH,IAFLb,KAAFiB,IAGQ,MAFNjB,KAAFkB,QAGgB,QAFdlB,KAAFmB,OAGW,QAFTnB,KAAFoB,QAGW,EAFTpB,KAAFqB,OAGWP,EAAkBQ,eAF3BtB,KAAFuB,MAGS,EADPvB,KAAFwB,UAGa,EAAXxB,KAAFyB,kBAGsB,IAAIC,EAAAA,aAQjB1B,KAAT2B,OAAkB,SAAAC,EAAQC,GAAY,OAAOD,EAAG3B,MAAQ4B,EAAE5B,OAAS,EAAO2B,EAAE3B,MAAQ4B,EAAE5B,MAAS,EAAI,GACjGD,KAAK8B,UAAY,IAAIhC,EAAUgB,EAAkBiB,qBACjD/B,KAAKgC,UAAY,IAAIlC,EAAUgB,EAAkBmB,4BAMnDnB,EAAAH,UAAAuB,YAAA,SADEC,GAEIA,EADc,SAC2B,IACxCA,EADc,OAASC,eAE1BpC,KADKqC,YAAYrC,KAAK8B,WAEtB9B,KADKqC,YAAYrC,KAAKgC,YAKpBG,EADc,QACyB,IACtCA,EADc,KAAOC,cAAyBpC,KAAKsC,UAAYC,UAElEvC,KADKsC,QAAUtC,KAAK2B,QAC4B,IAA1CQ,EAAkB,KAAOC,eAE/BpC,KADKsC,QAAUC,YAKbJ,EADc,SAEjBnC,KADKqB,OAASc,EAAc,OAASC,aAEC,oBAA3BpC,KAAKqB,OAAQ,YAEvBrB,KADKqB,OAAOmB,UAAY1B,EAAkB2B,KAGX,oBAArBzC,KAAKqB,OAAQ,MAEvBrB,KADKqB,OAAOqB,IAAM5B,EAAkBQ,eAAeoB,KAGjB,oBAAxB1C,KAAKqB,OAAQ,SAEvBrB,KADKqB,OAAOsB,OAAS7B,EAAkBQ,eAAeqB,QAGvB,oBAArB3C,KAAKqB,OAAQ,MAEvBrB,KADKqB,OAAOuB,IAAM9B,EAAkBQ,eAAesB,KAGnB,oBAAtB5C,KAAKqB,OAAQ,OAEvBrB,KADKqB,OAAOwB,KAAO/B,EAAkBQ,eAAeuB,MAGf,oBAA3B7C,KAAKqB,OAAQ,YAEvBrB,KADKqB,OAAOyB,UAAYhC,EAAkBQ,eAAewB,YAKvDX,EADc,SAEjBnC,KADK8B,UAAY,IAAIhC,EAAUgB,EAAkBiB,qBAEjD/B,KADK+C,gBAEL/C,KADKgD,sBAIFb,EADc,cAEjBnC,KADKgC,UAAY,IAAIlC,EAAUgB,EAAkBmB,qBAEjDjC,KADKgD,qBAELhD,KADK+C,kBAORjC,EAAAH,UAAAsC,UAAA,WACMjD,KAHKkD,QAAUlD,KAAKmD,eAAenD,KAAKkD,SAI3ClD,KAHKoD,SAASpD,KAAK8B,WAKhB9B,KAHKqD,aAAerD,KAAKsD,eAAetD,KAAKqD,cAIhDrD,KAHKoD,SAASpD,KAAKgC,YAUtBlB,EAAAH,UAAAwC,eAAA,SANED,GAMF,IAAAK,EAAAvD,KALQwD,EAAgBxD,KAAKyD,aAAaC,KAAKR,GAO7C,QAAIM,IACHA,EANcG,mBAAmB,SAACC,GAOjC,IANMC,EAAMN,EAAKO,cAAcP,EAAKzB,UAAUvB,KAAMqD,EAAEG,KAAMR,EAAKtC,MACrD,IAMR4C,GACHN,EANKzB,UAAUvB,KAAKyD,OAAOH,EAAK,KAUlCL,EANcS,iBAAiB,SAACL,IAEmC,IAM9DL,EANKO,cAAcP,EAAKzB,UAAUvB,KAAMqD,EAAEG,KAAMR,EAAKtC,MAOxDsC,EANKzB,UAAUvB,KAAK2D,MAAQC,IAAKZ,EAAKa,OAAOR,EAAEG,MAAO9D,MAAOsD,EAAKc,SAAST,EAAEG,UAU3E/D,KANKsC,UAAYC,WAOpBvC,KANK8B,UAAUvB,KAAKgB,KAAKvB,KAAKsC,SAQ/BtC,KANK8B,UAAUtB,KAAOR,KAAK8B,UAAUvB,MAE9B,IAcVO,EAAAH,UAAA2C,eAAA,SATED,GASF,IAAAE,EAAAvD,KARMsE,GAAQ,EACNC,EAAcvE,KAAKwE,kBAAkBd,KAAKL,GAUhD,QAAIkB,IACHA,EATYZ,mBAAmB,SAACC,GAU/B,IATMC,EAAMN,EAAKO,cAAcP,EAAKvB,UAAUzB,KAAMqD,EAAEG,KAAMR,EAAKtC,MACrD,IASR4C,IAREN,EAAKkB,eAAelB,EAAKvB,UAAU1B,KAAMiD,EAAKvB,UAAUzB,KAAKsD,KAUjEN,EATKmB,WAAWnB,EAAKvB,UAAU1B,KAAMiD,EAAKvB,UAAUzB,KAAKsD,IAW1DN,EATKoB,SAASpB,EAAKvB,UAAWuB,EAAKzB,UAAWyB,EAAKvB,UAAUzB,KAAKsD,IAAM,GAUxES,GATQ,KAaVC,EATYN,iBAAiB,SAACL,GAU7B,IATMC,EAAMN,EAAKO,cAAcP,EAAKzB,UAAUvB,KAAMqD,EAAEG,KAAMR,EAAKtC,MACrD,IASR4C,IAREN,EAAKkB,eAAelB,EAAKzB,UAAUxB,KAAMiD,EAAKzB,UAAUvB,KAAKsD,KAUjEN,EATKmB,WAAWnB,EAAKzB,UAAUxB,KAAMiD,EAAKzB,UAAUvB,KAAKsD,IAW1DN,EATKoB,SAASpB,EAAKzB,UAAWyB,EAAKvB,UAAWuB,EAAKzB,UAAUvB,KAAKsD,IAAM,GAUxES,GATQ,KAaNtE,KATKsC,UAAYC,WAUpBvC,KATKgC,UAAUzB,KAAKgB,KAAKvB,KAAKsC,SAW/BtC,KATKgC,UAAUxB,KAAOR,KAAKgC,UAAUzB,KAWjC+D,GACHtE,KATK4E,UAEC,IAgBV9D,EAAAH,UAAAoC,cAAA,WACE/C,KAXK8B,UAAUvB,KAAKsE,OAAS,EAY7B7E,KAXK8B,UAAUxB,KAAKuE,OAAS,EAazB7E,KAXKkD,SAAWX,YAYnBvC,KAXKyD,aAAezD,KAAKe,QAAQ+D,KAAK9E,KAAKkD,QAAQ6B,OAAO,QAiB7DjE,EAAAH,UAAAqC,mBAAA,WACMhD,KAbKqD,cAAgBd,YAcxBvC,KAbKwE,kBAAoBxE,KAAKe,QAAQ+D,KAAK9E,KAAKqD,aAAa0B,OAAO,QAmBvEjE,EAAAH,UAAA6B,UAAA,WACE,OAfOxC,KAAKqB,OAAOmB,YAAc1B,EAAkB2B,KAqBrD3B,EAAAH,UAAAqE,QAAA,SAlBEzE,GAyBA,YAzBF,IAAAA,IAAEA,EAAF,MAmBMA,EACHA,EAlBKH,WAAY,GAoBjBJ,KAlBK8B,UAAU1B,WAAY,EAmB3BJ,KAlBKgC,UAAU5B,WAAY,IAErB,GA0BTU,EAAAH,UAAAsE,KAAA,SAvBEC,EAAAnB,EAAAxD,GACKP,KAAKyE,eAAelE,EAAKD,KAAMyD,IAwBnC/D,KAvBK0E,WAAWnE,EAAKD,KAAMyD,GAyB5BxD,EAvBKH,WAAY,EA0BjB8E,EAvBMC,aAAaC,QAAQpF,KAAKgB,GAAI+C,EAAM,MA8B5CjD,EAAAH,UAAA0E,UAAA,SA3BEH,EAAA3E,GAkCA,OANI2E,EA3BMC,aAAaG,MAAMT,QAAUK,EAAOC,aAAaG,MAAM,KAAOtF,KAAKgB,KA4B5EkE,EA3BMK,iBACDhF,EAAKH,YA4BTG,EA3BKF,UAAW,KAGX,GAgCTS,EAAAH,UAAA6E,UAAA,WACExF,KA7BK8B,UAAUzB,UAAW,EA8B1BL,KA7BKgC,UAAU3B,UAAW,GAoC5BS,EAAAH,UAAA8E,KAAA,SAjCEP,EAAA3E,GAkCI2E,EAjCMC,aAAaG,MAAMT,QAAUK,EAAOC,aAAaG,MAAM,KAAOtF,KAAKgB,KAkC5EkE,EAjCMK,iBAkCNvF,KAjCKwF,YAkCLxF,KAjCKgF,UAmCDzE,IAjCSP,KAAK8B,UAkCjB9B,KAjCK2E,SAAS3E,KAAK8B,UAAW9B,KAAKgC,WAmCnChC,KAjCK2E,SAAS3E,KAAKgC,UAAWhC,KAAK8B,aAKrChB,EAAFH,UAAAiE,OAAE,WAwCA,IAxCA,IAAFrB,EAAAvD,KACM0F,GAAU,EAGVC,EAAM3F,KAAKqD,YAAYwB,QACnBc,GAAO,IAAM,GAAG,CAQL,IAPP3F,KAAKgC,UAAUzB,KAAKa,OAAQ,SAAAwE,GAoCtC,MAnCqC,iBAA1BrC,EAAKF,YAAYsC,GACpBC,EAAKzB,MAAQZ,EAAKF,YAAYsC,GAAKpC,EAAKtC,KAExC2E,EAAKzB,MAAQZ,EAAKF,YAAYsC,KAGhCd,SAqCN7E,KAnCKqD,YAAYW,OAAO2B,EAAK,GAoC7BD,GAnCU,GAwCZ,IAnCF,IAAAG,EAAA,SAAWC,EAAOC,GAoCf,IAnCIC,EAAKC,EAAK5C,YAAYjC,OAAQ,SAAA8E,GAoCjC,MAnCiB,iBAANA,EACHA,EAAG3C,EAAKtC,OAASsC,EAAKvB,UAAUzB,KAAKuF,GAAG3B,IAExC+B,IAAO3C,EAAKvB,UAAUzB,KAAKuF,GAAG3B,MAIrB,IAmCd6B,EAnCGnB,SAqCNmB,EAnCKC,EAAK/C,OAAO9B,OAAQ,SAAA+E,GAoCxB,MAnCiB,iBAANA,EACHA,EAAG5C,EAAKtC,OAASsC,EAAKvB,UAAUzB,KAAKuF,GAAG3B,IAExCgC,IAAO5C,EAAKvB,UAAUzB,KAAKuF,GAAG3B,OAIhCU,OAAS,IAoCfoB,EAnCK5C,YAAYa,KAAK8B,EAAG,IAoCzBN,GAnCU,WArBJI,EAAI,EAAGC,EAAM/F,KAAKgC,UAAUzB,KAAKsE,OAAQiB,EAAIC,EAAKD,GAAK,EAmClED,EAnCWC,GA6DLJ,GACH1F,KAnCKyB,kBAAkB2E,KAAKpG,KAAKqD,cA4CpCvC,EAAAH,UAAAmD,cAAA,SAxCEvD,EAAAwD,EAAA9C,QAAF,IAAAA,IAAEA,EAAF,OAyCE,IAxCI4C,GAAM,EAuEV,MApDoB,iBAATE,EA+CVxD,EA9CKa,OAyBR,SA3CGiF,GA4CA,OAAIA,EA3CElC,MAAQJ,EAAK9C,KA4ClB4C,EA3CMtD,EAAK+F,QAAQD,IACZ,KA+DR9F,EA9CKa,OAkCR,SA9CGiF,GA+CA,OAAIA,EA9CElC,MAAQJ,IA+CbF,EA9CMtD,EAAK+F,QAAQD,IACZ,KAYFxC,GAGP/C,EAAFH,UAAA4F,gBAAE,SAAArD,EAAAa,GAmDA,IAlDMF,EAAMX,EAAO3C,KAAK+F,QAAQvC,IACpB,IAkDRF,GACHX,EAlDO3C,KAAKyD,OAAOH,EAAK,IA4D3B/C,EAAAH,UAAAgE,SAAA,SAxDEzB,EAAAsD,EAAAzC,EAAA0C,GAwDF,IAAAlD,EAAAvD,UAxDA,IAAA+D,IAAEA,EAAF,WAAA,IAAA0C,IAAEA,GAAF,GAyDE,IAxDIX,EAAI,EACJC,EAAM7C,EAAO5C,KAAKuE,OA0DlBd,IAEHgC,GADAD,EAxDI5C,EAAO3C,KAAK+F,QAAQvC,IACd,GA2DX,qBAEC,IAxDIiC,KAyDJ,GAAIjC,EAxDM,CAyDT,IAxDMF,EAAM6C,EAAK5C,cAAcZ,EAAO5C,KAAMyD,IAChC,IAwDRF,IACHmC,EAxDG,GAAK9C,EAAO5C,KAAKuD,SA2DrBmC,EAxDK9C,EAAO3C,KAAKa,OAAQ,SAAAuF,GAyDxB,OAxDOA,EAAKxC,MAAQjB,EAAO5C,KAAKwF,GAAG3B,MAKnB,IAwDd6B,EAxDGnB,SAE0D,IAwD5D2B,EAxDOjG,KAAKa,OAAO,SAAAwF,GAAO,OAAAA,EAAIzC,MAAQ6B,EAAG,GAAG7B,MAAKU,QAyDpD2B,EAxDOjG,KAAK2D,KAAM8B,EAAG,IA2DtBU,EAxDKH,gBAAgBrD,EAAQ8C,EAAG,aArB3BF,EAAIC,EAAKD,GAAK,MAiFjB9F,KAxDKsC,UAAYC,WAyDpBiE,EAxDOjG,KAAKgB,KAAKvB,KAAKsC,SA2DvBY,EAxDO5C,KAAKuE,OAAS,EA2DjB4B,GACHzG,KAxDK4E,SA4DNiC,WAxDY,WAyDXtD,EAxDKH,SAASF,GAyDdK,EAxDKH,SAASoD,IACZ,KA+DL1F,EAAAH,UAAA8D,eAAA,SA5DElE,EAAAwD,GA6DA,OAAIxD,EA5DKa,OAAO,SAAAiF,GAAK,OAAA5F,OAAOqG,GAAGT,EAAGtC,KAAOc,OAAS,GAwEpD/D,EAAAH,UAAAoG,WAAA,SAlEE7B,EAAA8B,EAAA9D,EAAAa,GAmEA,GAAImB,EAlEM+B,UAAY/D,EAAOhD,OAAQO,OAAQqG,GAAG/C,EAAMb,EAAOhD,MAAO,CAmEnE,IAlEM2D,EAAMX,EAAO1C,KAAK8F,QAAQpD,EAAOhD,MAmEvC,GAAI8G,EAlEQnD,EAmEX,IAAK,IAlEIiC,EAAIjC,EAAO,EAAIiC,EAAIkB,EAAOlB,GAAK,EAmEvC9F,KAlEK0E,WAAWxB,EAAO5C,KAAM4C,EAAO1C,KAAKsF,SAEpC,IAAY,IAAZjC,EAmEN,IAlESiC,EAAIkB,EAAS,EAAIlB,EAAIjC,EAAKiC,GAAK,EAmEvC9F,KAlEK0E,WAAWxB,EAAO5C,KAAM4C,EAAO1C,KAAKsF,IAsE5C5C,EAlEOhD,KAAO6D,GAyEhBjD,EAAAH,UAAA+D,WAAA,SAtEEnE,EAAAwD,GAuEA,IAtEMmD,EAAK3G,EAAKa,OAAQ,SAAAiF,GAuEvB,OAtEO5F,OAAOqG,GAAGT,EAAGtC,KAwErB,GAAImD,EAtEGrC,OAAS,EAwEf,IAAK,IAtEIiB,EAAI,EAAGC,EAAMmB,EAAGrC,OAAQiB,EAAIC,EAAKD,GAAK,EAAG,CAuEjD,IAtEMjC,EAAMtD,EAAK+F,QAAQY,EAAGpB,KAChB,IAsERjC,GACHtD,EAtEKyD,OAAOH,EAAK,QA0EnBtD,EAtEK2D,KAAKH,IA6EbjD,EAAAH,UAAAwG,UAAA,SAzEEjE,GA0EAA,EAzEO5C,KAAKuE,OAAS,EA0ErB3B,EAzEO5C,KAAO4C,EAAO1C,KAAK4G,MAAM,IA+ElCtG,EAAAH,UAAA0G,WAAA,SA5EEnE,GA6EAA,EA5EO5C,KAAKuE,OAAS,GAkFvB/D,EAAAH,UAAA2G,cAAA,SA/EEpE,GAgFA,OA/E2B,IA+EvBA,EA/EO3C,KAAKsE,QAAgB3B,EAAO3C,KAAKsE,SAAW3B,EAAO5C,KAAKuE,QAwFrE/D,EAAAH,UAAA4G,cAAA,SAlFErE,GAmFA,OAAIA,EAlFO5C,KAAKuE,OAAS,GAMzB/D,EAAFH,UAAA6G,OAAE,SAAAtE,GAsFA,IAAK,IArFI4C,EAAI5C,EAAO5C,KAAKuE,OAAS,EAAGiB,GAAK,EAAGA,GAAK,GACL,IAqFxC5C,EArFO1C,KAAK8F,QAAQpD,EAAO5C,KAAKwF,KAsFnC5C,EArFO5C,KAAK0D,OAAO8B,EAAG,IA6F1BhF,EAAAH,UAAA0B,YAAA,SAxFEa,GAyFIA,IACHA,EAxFO/C,OAAS,GAyFhBH,KAxFKoD,SAASF,KA+FjBpC,EAAAH,UAAAyC,SAAA,SA3FEF,GA2FF,IAAAK,EAAAvD,KACE,GAAIkD,EA3FO/C,OAAO0E,OAAS,EA4F1B,IACC,IA3FM4C,EAAWvE,EAAO3C,KAAKa,OAAQ,SAAA2C,GA4FpC,MA3F6C,oBA2FzCtD,OA3FOE,UAAU+G,SAASC,KAAK5D,GA4F9BA,EA3FK9D,QAAUsC,WAEuG,IAAlHwB,EAAK9D,MAAM2H,kBAAkBrE,EAAKlC,OAAOwG,QAAQvB,QAAQpD,EAAO/C,OAAOyH,kBAAkBrE,EAAKlC,OAAOwG,UAGuB,IAA5HC,KAAKC,UAAUhE,GAAM6D,kBAAkBrE,EAAKlC,OAAOwG,QAAQvB,QAAQpD,EAAO/C,OAAOyH,kBAAkBrE,EAAKlC,OAAOwG,UAIJ,IAA5G9D,EAAK6D,kBAAkBrE,EAAKlC,OAAOwG,QAAQvB,QAAQpD,EAAO/C,OAAOyH,kBAAkBrE,EAAKlC,OAAOwG,WA8FxG3E,EA3FO1C,KAAOiH,EA4FdzH,KA3FKwH,OAAOtE,GA6Fb,MAAwBmD,GACnBA,aA3Fa2B,aA4FhBhI,KA3FKqB,OAAOwG,OAAStF,WA6FtBW,EA3FO1C,KAAO0C,EAAO3C,UA8FtB2C,EA3FO1C,KAAO0C,EAAO3C,MAItBO,EAAFH,UAAAyD,OAAE,SAAAL,GA+FA,MA9FoB,iBAATA,EACHA,EAAK/D,KAAKiB,KAEV8C,GAMRjD,EAAFH,UAAA0D,SAAE,SAAAN,EAAAkE,QAAF,IAAAA,IAAEA,EAAF,KAiGE,IAhGM/G,EAAUlB,KAAKkB,QAqGvB,SAAAgH,EAnGGC,GAoGA,OAAQ1H,OAnGOE,UAAU+G,SAASC,KAAKQ,IAoGvC,IAnGK,kBAqGL,IAnGK,kBAoGJ,OAnGOA,EAoGR,QACC,OAAIA,IAnGQ5F,UACJ4F,EAAIjH,GAEJ,aAwGV,IAnGIkH,EAAM,GAqGV,GAAIpI,KAnGKkB,UAAYqB,UAoGpB,OAAQ9B,OAnGOE,UAAU+G,SAASC,KAAK3H,KAAKkB,UAoG5C,IAnGK,oBAoGJkH,EAnGMpI,KAAKkB,QAAQ6C,GAoGnB,MAED,IAnGK,iBAoGJ,IAAK,IAnGI+B,EAAI,EAAGC,EAAM/F,KAAKkB,QAAQ2D,OAAQiB,EAAIC,EAAKD,GAAK,EAwGxD,GAJIsC,EAnGIvD,OAAS,IAoGhBuD,GAnGYH,IAGwB,IAmGjCjI,KAnGKkB,QAAQ4E,GAAGQ,QAAQ,KAqG3B8B,GAnGYrE,EAAK/D,KAAKkB,QAAQ4E,QACxB,CAqGN,IAnGMuC,EAAQrI,KAAKkB,QAAQ4E,GAAGwC,MAAM,KAE9BC,EAAIxE,EAAKsE,EAAM,IAoGrB,GAAIE,EAEH,IAnGsC,IAmGlCF,EAnGM,GAAG/B,QAAQ,aAAqB,CAoGzC,IAnGMkC,EAAOH,EAAO,GAAGI,UAAUJ,EAAM,GAAG/B,QAAQ,KAAO,EAAG+B,EAAM,GAAG/B,QAAQ,MAAOgC,MAAM,KAqG1F,OAAQE,EAnGK3D,QAoGb,KAnGK,EAoGJuD,GAnGYG,EAAEE,UAAUC,SAASF,EAAK,GAAI,KAoG1C,MACD,KAnGK,EAoGJJ,GAnGYG,EAAEE,UAAUC,SAASF,EAAK,GAAI,IAAKE,SAASF,EAAK,GAAI,KAoGjE,MACD,QACCJ,GAnGYG,QAwGbH,GAnGYG,EAwGhB,MACD,QACCH,EAnGMF,EAASnE,QAuGhBqE,EAnGMF,EAASnE,GAsGhB,OAnGOqE,KAjkBT,GAIQtH,EAARiB,oBAA8B,YACtBjB,EAARmB,oBAA8B,YAEtBnB,EAAR2B,IAAc,gBACN3B,EAAR6H,IAAc,gBAEN7H,EAARQ,gBAFEoB,IAGK,MAFLC,OAGQ,SAFRC,IAGK,MAFLC,KAGM,OAFNL,UAGW1B,EAAkB2B,IAF7BK,WAGW,EAFX+E,OAGQtF,WAkjBHzB,EAAP8H,aACEC,KAAMC,EAAAA,UAAWC,OAoGlBC,SAnGU,YAoGVC,SAnGU,y/GA8JVC,QAnGQ,o6HAiLRpI,EAADqI,eAAC,WAAA,QAsGAN,KAAMO,EAAAA,mBAnGAtI,EAAPuI,gBAsGArI,KArGS6H,KAAMS,EAAAA,QAsGfrI,MArGU4H,KAAMS,EAAAA,QAsGhBpI,UArGc2H,KAAMS,EAAAA,QAsGpBnI,SArGa0H,KAAMS,EAAAA,QAsGnBlI,SArGayH,KAAMS,EAAAA,QAsGnBjI,SArGawH,KAAMS,EAAAA,QAsGnB/H,OArGWsH,KAAMS,EAAAA,QAsGjBhH,UArGcuG,KAAMS,EAAAA,QAsGpB9H,WArGeqH,KAAMS,EAAAA,QAsGrBpG,SArGa2F,KAAMS,EAAAA,QAsGnBjG,cArGkBwF,KAAMS,EAAAA,QAsGxB7H,oBArGwBoH,KAAMU,EAAAA,UCp0B9B,IAAAC,EAAA,kBAAA,aAAA,GAE8CA,EAA9CZ,aACEC,KAAMY,EAAAA,SAAUV,OADjBW,SACCC,EAAAA,aACAC,EAAAA,aAEDC,cAEgB/I,GADhBgJ,SAEgBhJ,OAIhB0I,EAADL,eAAC,WAAA"}
