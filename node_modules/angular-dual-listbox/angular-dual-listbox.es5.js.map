{"version":3,"file":"angular-dual-listbox.es5.js","sources":["ts/angular-dual-listbox.ts","ts/src/angular-dual-listbox.module.ts","ts/src/dual-list.component.ts","ts/src/basic-list.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {BasicList,compareFunction,DualListComponent,AngularDualListBoxModule} from './index';\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { DualListComponent } from './dual-list.component';\nexport class AngularDualListBoxModule {static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n\timports:      [\n\t\tCommonModule,\n\t\tFormsModule\n\t],\n\tdeclarations: [ DualListComponent ],\n\texports:      [ DualListComponent ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction AngularDualListBoxModule_tsickle_Closure_declarations() {\n/** @type {?} */\nAngularDualListBoxModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAngularDualListBoxModule.ctorParameters;\n}\n\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, DoCheck, EventEmitter, Input, IterableDiffers, OnChanges,\n\tOutput, SimpleChange } from '@angular/core';\n\nimport { BasicList } from './basic-list';\n\nexport type compareFunction = (a:any, b:any) => number;\n\nvar /** @type {?} */ nextId = 0;\nexport class DualListComponent implements DoCheck, OnChanges {\n\tstatic AVAILABLE_LIST_NAME = 'available';\n\tstatic CONFIRMED_LIST_NAME = 'confirmed';\n\n\tstatic LTR = 'left-to-right';\n\tstatic RTL = 'right-to-left';\n\n\tstatic DEFAULT_FORMAT = {\n\t\tadd: 'Add',\n\t\tremove: 'Remove',\n\t\tall: 'All',\n\t\tnone: 'None',\n\t\tdirection: DualListComponent.LTR,\n\t\tdraggable: true,\n\t\tlocale: undefined\n\t};\n\n\t id = `dual-list-${nextId++}`;\n\t key = '_id';\n\t display:any = '_name';\n\t height = '100px';\n\t filter = false;\n\t format = DualListComponent.DEFAULT_FORMAT;\n\t sort = false;\n\t compare:compareFunction;\n\t disabled = false;\n\t source:Array<any>;\n\t destination:Array<any>;\n\t destinationChange = new EventEmitter();\n\n\tavailable:BasicList;\n\tconfirmed:BasicList;\n\n\tsourceDiffer:any;\n\tdestinationDiffer:any;\nprivate sorter = (a:any, b:any) => { return (a._name < b._name) ? -1 : ((a._name > b._name) ? 1 : 0); };\n/**\n * @param {?} differs\n */\nconstructor(private differs:IterableDiffers) {\n\t\tthis.available = new BasicList(DualListComponent.AVAILABLE_LIST_NAME);\n\t\tthis.confirmed = new BasicList(DualListComponent.CONFIRMED_LIST_NAME);\n\t}\n/**\n * @param {?} changeRecord\n * @return {?}\n */\nngOnChanges(changeRecord: {[key:string]:SimpleChange}) {\n\t\tif (changeRecord['filter']) {\n\t\t\tif (changeRecord['filter'].currentValue === false) {\n\t\t\t\tthis.clearFilter(this.available);\n\t\t\t\tthis.clearFilter(this.confirmed);\n\t\t\t}\n\t\t}\n\n\t\tif (changeRecord['sort']) {\n\t\t\tif (changeRecord['sort'].currentValue === true && this.compare === undefined) {\n\t\t\t\tthis.compare = this.sorter;\n\t\t\t} else if (changeRecord['sort'].currentValue === false) {\n\t\t\t\tthis.compare = undefined;\n\t\t\t}\n\t\t}\n\n\t\tif (changeRecord['format']) {\n\t\t\tthis.format = changeRecord['format'].currentValue;\n\n\t\t\tif (typeof(this.format.direction) === 'undefined') {\n\t\t\t\tthis.format.direction = DualListComponent.LTR;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.add) === 'undefined') {\n\t\t\t\tthis.format.add = DualListComponent.DEFAULT_FORMAT.add;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.remove) === 'undefined') {\n\t\t\t\tthis.format.remove = DualListComponent.DEFAULT_FORMAT.remove;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.all) === 'undefined') {\n\t\t\t\tthis.format.all = DualListComponent.DEFAULT_FORMAT.all;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.none) === 'undefined') {\n\t\t\t\tthis.format.none = DualListComponent.DEFAULT_FORMAT.none;\n\t\t\t}\n\n\t\t\tif (typeof(this.format.draggable) === 'undefined') {\n\t\t\t\tthis.format.draggable = DualListComponent.DEFAULT_FORMAT.draggable;\n\t\t\t}\n\t\t}\n\n\t\tif (changeRecord['source']) {\n\t\t\tthis.available = new BasicList(DualListComponent.AVAILABLE_LIST_NAME);\n\t\t\tthis.updatedSource();\n\t\t\tthis.updatedDestination();\n\t\t}\n\n\t\tif (changeRecord['destination']) {\n\t\t\tthis.confirmed = new BasicList(DualListComponent.CONFIRMED_LIST_NAME);\n\t\t\tthis.updatedDestination();\n\t\t\tthis.updatedSource();\n\t\t}\n\t}\n/**\n * @return {?}\n */\nngDoCheck() {\n\t\tif (this.source && this.buildAvailable(this.source)) {\n\t\t\tthis.onFilter(this.available);\n\t\t}\n\t\tif (this.destination && this.buildConfirmed(this.destination)) {\n\t\t\tthis.onFilter(this.confirmed);\n\t\t}\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nbuildAvailable(source:Array<any>) : boolean {\n\t\tconst /** @type {?} */ sourceChanges = this.sourceDiffer.diff(source);\n\t\tif (sourceChanges) {\n\t\t\tsourceChanges.forEachRemovedItem((r:any) => {\n\t\t\t\tconst /** @type {?} */ idx = this.findItemIndex(this.available.list, r.item, this.key);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tthis.available.list.splice(idx, 1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsourceChanges.forEachAddedItem((r:any) => {\n\t\t\t\t// Do not add duplicates even if source has duplicates.\n\t\t\t\tif (this.findItemIndex(this.available.list, r.item, this.key) === -1) {\n\t\t\t\t\tthis.available.list.push( { _id: this.makeId(r.item), _name: this.makeName(r.item) });\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (this.compare !== undefined) {\n\t\t\t\tthis.available.list.sort(this.compare);\n\t\t\t}\n\t\t\tthis.available.sift = this.available.list;\n\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} destination\n * @return {?}\n */\nbuildConfirmed(destination:Array<any>) : boolean {\n\t\tlet /** @type {?} */ moved = false;\n\t\tconst /** @type {?} */ destChanges = this.destinationDiffer.diff(destination);\n\t\tif (destChanges) {\n\t\t\tdestChanges.forEachRemovedItem((r:any) => {\n\t\t\t\tconst /** @type {?} */ idx = this.findItemIndex(this.confirmed.list, r.item, this.key);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tif (!this.isItemSelected(this.confirmed.pick, this.confirmed.list[idx])) {\n\t\t\t\t\t\tthis.selectItem(this.confirmed.pick, this.confirmed.list[idx]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveItem(this.confirmed, this.available, this.confirmed.list[idx], false);\n\t\t\t\t\tmoved = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdestChanges.forEachAddedItem((r:any) => {\n\t\t\t\tconst /** @type {?} */ idx = this.findItemIndex(this.available.list, r.item, this.key);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tif (!this.isItemSelected(this.available.pick, this.available.list[idx])) {\n\t\t\t\t\t\tthis.selectItem(this.available.pick, this.available.list[idx]);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveItem(this.available, this.confirmed, this.available.list[idx], false);\n\t\t\t\t\tmoved = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (this.compare !== undefined) {\n\t\t\t\tthis.confirmed.list.sort(this.compare);\n\t\t\t}\n\t\t\tthis.confirmed.sift = this.confirmed.list;\n\n\t\t\tif (moved) {\n\t\t\t\tthis.trueUp();\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @return {?}\n */\nupdatedSource() {\n\t\tthis.available.list.length = 0;\n\t\tthis.available.pick.length = 0;\n\n\t\tif (this.source !== undefined) {\n\t\t\tthis.sourceDiffer = this.differs.find(this.source).create(null);\n\t\t}\n\t}\n/**\n * @return {?}\n */\nupdatedDestination() {\n\t\tif (this.destination !== undefined) {\n\t\t\tthis.destinationDiffer = this.differs.find(this.destination).create(null);\n\t\t}\n\t}\n/**\n * @return {?}\n */\ndirection() {\n\t\treturn this.format.direction === DualListComponent.LTR;\n\t}\n/**\n * @param {?=} list\n * @return {?}\n */\ndragEnd(list:BasicList = null) : boolean {\n\t\tif (list) {\n\t\t\tlist.dragStart = false;\n\t\t} else {\n\t\t\tthis.available.dragStart = false;\n\t\t\tthis.confirmed.dragStart = false;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} event\n * @param {?} item\n * @param {?} list\n * @return {?}\n */\ndrag(event:DragEvent, item:any, list:BasicList) {\n\t\tif (!this.isItemSelected(list.pick, item)) {\n\t\t\tthis.selectItem(list.pick, item);\n\t\t}\n\t\tlist.dragStart = true;\n\n\t\t// Set a custom type to be this dual-list's id.\n\t\tevent.dataTransfer.setData(this.id, item['_id']);\n\t}\n/**\n * @param {?} event\n * @param {?} list\n * @return {?}\n */\nallowDrop(event:DragEvent, list:BasicList) : boolean {\n\t\tif (event.dataTransfer.types.length && (event.dataTransfer.types[0] === this.id)) {\n\t\t\tevent.preventDefault();\n\t\t\tif (!list.dragStart) {\n\t\t\t\tlist.dragOver = true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @return {?}\n */\ndragLeave() {\n\t\tthis.available.dragOver = false;\n\t\tthis.confirmed.dragOver = false;\n\t}\n/**\n * @param {?} event\n * @param {?} list\n * @return {?}\n */\ndrop(event:DragEvent, list:BasicList) {\n\t\tif (event.dataTransfer.types.length && (event.dataTransfer.types[0] === this.id)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.dragLeave();\n\t\t\tthis.dragEnd();\n\n\t\t\tif (list === this.available) {\n\t\t\t\tthis.moveItem(this.available, this.confirmed);\n\t\t\t} else {\n\t\t\t\tthis.moveItem(this.confirmed, this.available);\n\t\t\t}\n\t\t}\n\t}\n/**\n * @return {?}\n */\nprivate trueUp() {\n\t\tlet /** @type {?} */ changed = false;\n\n\t\t// Clear removed items.\n\t\tlet /** @type {?} */ pos = this.destination.length;\n\t\twhile ((pos -= 1) >= 0) {\n\t\t\tconst /** @type {?} */ mv = this.confirmed.list.filter( conf => {\n\t\t\t\tif (typeof this.destination[pos] === 'object') {\n\t\t\t\t\treturn conf._id === this.destination[pos][this.key];\n\t\t\t\t} else {\n\t\t\t\t\treturn conf._id === this.destination[pos];\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (mv.length === 0) {\n\t\t\t\t// Not found so remove.\n\t\t\t\tthis.destination.splice(pos, 1);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t}\n\n\t\t// Push added items.\n\t\tfor (let /** @type {?} */ i = 0, /** @type {?} */ len = this.confirmed.list.length; i < len; i += 1) {\n\t\t\tlet /** @type {?} */ mv = this.destination.filter( (d:any) => {\n\t\t\t\tif (typeof d === 'object') {\n\t\t\t\t\treturn (d[this.key] === this.confirmed.list[i]._id);\n\t\t\t\t} else {\n\t\t\t\t\treturn (d === this.confirmed.list[i]._id);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (mv.length === 0) {\n\t\t\t\t// Not found so add.\n\t\t\t\tmv = this.source.filter( (o:any) => {\n\t\t\t\t\tif (typeof o === 'object') {\n\t\t\t\t\t\treturn (o[this.key] === this.confirmed.list[i]._id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn (o === this.confirmed.list[i]._id);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (mv.length > 0) {\n\t\t\t\t\tthis.destination.push(mv[0]);\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (changed) {\n\t\t\tthis.destinationChange.emit(this.destination);\n\t\t}\n\t}\n/**\n * @param {?} list\n * @param {?} item\n * @param {?=} key\n * @return {?}\n */\nfindItemIndex(list:Array<any>, item:any, key:any = '_id') {\n\t\tlet /** @type {?} */ idx = -1;\n/**\n * @param {?} e\n * @return {?}\n */\nfunction matchObject(e:any) {\n\t\t\tif (e._id === item[key]) {\n\t\t\t\tidx = list.indexOf(e);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n/**\n * @param {?} e\n * @return {?}\n */\nfunction match(e:any) {\n\t\t\tif (e._id === item) {\n\t\t\t\tidx = list.indexOf(e);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\t// Assumption is that the arrays do not have duplicates.\n\t\tif (typeof item === 'object') {\n\t\t\tlist.filter(matchObject);\n\t\t} else {\n\t\t\tlist.filter(match);\n\t\t}\n\n\t\treturn idx;\n\t}\n/**\n * @param {?} source\n * @param {?} item\n * @return {?}\n */\nprivate makeUnavailable(source:BasicList, item:any) {\n\t\tconst /** @type {?} */ idx = source.list.indexOf(item);\n\t\tif (idx !== -1) {\n\t\t\tsource.list.splice(idx, 1);\n\t\t}\n\t}\n/**\n * @param {?} source\n * @param {?} target\n * @param {?=} item\n * @param {?=} trueup\n * @return {?}\n */\nmoveItem(source:BasicList, target:BasicList, item:any = null, trueup = true) {\n\t\tlet /** @type {?} */ i = 0;\n\t\tlet /** @type {?} */ len = source.pick.length;\n\n\t\tif (item) {\n\t\t\ti = source.list.indexOf(item);\n\t\t\tlen = i + 1;\n\t\t}\n\n\t\tfor (; i < len; i += 1) {\n\t\t\t// Is the pick still in list?\n\t\t\tlet /** @type {?} */ mv:Array<any> = [];\n\t\t\tif (item) {\n\t\t\t\tconst /** @type {?} */ idx = this.findItemIndex(source.pick, item);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tmv[0] = source.pick[idx];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmv = source.list.filter( src => {\n\t\t\t\t\treturn (src._id === source.pick[i]._id);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Should only ever be 1\n\t\t\tif (mv.length === 1) {\n\t\t\t\t// Add if not already in target.\n\t\t\t\tif (target.list.filter(trg => trg._id === mv[0]._id).length === 0) {\n\t\t\t\t\ttarget.list.push( mv[0] );\n\t\t\t\t}\n\n\t\t\t\tthis.makeUnavailable(source, mv[0]);\n\t\t\t}\n\t\t}\n\n\t\tif (this.compare !== undefined) {\n\t\t\ttarget.list.sort(this.compare);\n\t\t}\n\n\t\tsource.pick.length = 0;\n\n\t\t// Update destination\n\t\tif (trueup) {\n\t\t\tthis.trueUp();\n\t\t}\n\n\t\t// Delay ever-so-slightly to prevent race condition.\n\t\tsetTimeout( () => {\n\t\t\tthis.onFilter(source);\n\t\t\tthis.onFilter(target);\n\t\t}, 10);\n\t}\n/**\n * @param {?} list\n * @param {?} item\n * @return {?}\n */\nisItemSelected(list:Array<any>, item:any) : boolean {\n\t\tif (list.filter(e => Object.is(e, item)).length > 0) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} event\n * @param {?} index\n * @param {?} source\n * @param {?} item\n * @return {?}\n */\nshiftClick(event:MouseEvent, index:number, source:BasicList, item:any) {\n\t\tif (event.shiftKey && source.last && !Object.is(item, source.last)) {\n\t\t\tconst /** @type {?} */ idx = source.sift.indexOf(source.last);\n\t\t\tif (index > idx) {\n\t\t\t\tfor (let /** @type {?} */ i = (idx + 1); i < index; i += 1) {\n\t\t\t\t\tthis.selectItem(source.pick, source.sift[i]);\n\t\t\t\t}\n\t\t\t} else if (idx !== -1) {\n\t\t\t\tfor (let /** @type {?} */ i = (index + 1); i < idx; i += 1)  {\n\t\t\t\t\tthis.selectItem(source.pick, source.sift[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsource.last = item;\n\t}\n/**\n * @param {?} list\n * @param {?} item\n * @return {?}\n */\nselectItem(list:Array<any>, item:any) {\n\t\tconst /** @type {?} */ pk = list.filter( (e:any) => {\n\t\t\treturn Object.is(e, item);\n\t\t});\n\t\tif (pk.length > 0) {\n\t\t\t// Already in list, so deselect.\n\t\t\tfor (let /** @type {?} */ i = 0, /** @type {?} */ len = pk.length; i < len; i += 1) {\n\t\t\t\tconst /** @type {?} */ idx = list.indexOf(pk[i]);\n\t\t\t\tif (idx !== -1) {\n\t\t\t\t\tlist.splice(idx, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tlist.push(item);\n\t\t}\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nselectAll(source:BasicList) {\n\t\tsource.pick.length = 0;\n\t\tsource.pick = source.sift.slice(0);\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nselectNone(source:BasicList) {\n\t\tsource.pick.length = 0;\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nisAllSelected(source:BasicList) : boolean {\n\t\tif (source.list.length === 0 || source.list.length === source.pick.length) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nisAnySelected(source:BasicList) : boolean {\n\t\tif (source.pick.length > 0) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nprivate unpick(source:BasicList) {\n\t\tfor (let /** @type {?} */ i = source.pick.length - 1; i >= 0; i -= 1) {\n\t\t\tif (source.sift.indexOf(source.pick[i]) === -1) {\n\t\t\t\tsource.pick.splice(i, 1);\n\t\t\t}\n\t\t}\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nclearFilter(source:BasicList) {\n\t\tif (source) {\n\t\t\tsource.picker = '';\n\t\t\tthis.onFilter(source);\n\t\t}\n\t}\n/**\n * @param {?} source\n * @return {?}\n */\nonFilter(source:BasicList) {\n\t\tif (source.picker.length > 0) {\n\t\t\ttry {\n\t\t\t\tconst /** @type {?} */ filtered = source.list.filter( (item:any) => {\n\t\t\t\t\tif (Object.prototype.toString.call(item) === '[object Object]') {\n\t\t\t\t\t\tif (item._name !== undefined) {\n\t\t\t\t\t\t\t// @ts-ignore: remove when d.ts has locale as an argument.\n\t\t\t\t\t\t\treturn item._name.toLocaleLowerCase(this.format.locale).indexOf(source.picker.toLocaleLowerCase(this.format.locale)) !== -1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// @ts-ignore: remove when d.ts has locale as an argument.\n\t\t\t\t\t\t\treturn JSON.stringify(item).toLocaleLowerCase(this.format.locale).indexOf(source.picker.toLocaleLowerCase(this.format.locale)) !== -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// @ts-ignore: remove when d.ts has locale as an argument.\n\t\t\t\t\t\treturn item.toLocaleLowerCase(this.format.locale).indexOf(source.picker.toLocaleLowerCase(this.format.locale)) !== -1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tsource.sift = filtered;\n\t\t\t\tthis.unpick(source);\n\t\t\t}\n\t\t\tcatch ( /** @type {?} */e) {\n\t\t\t\tif (e instanceof RangeError) {\n\t\t\t\t\tthis.format.locale = undefined;\n\t\t\t\t}\n\t\t\t\tsource.sift = source.list;\n\t\t\t}\n\t\t} else {\n\t\t\tsource.sift = source.list;\n\t\t}\n\t}\n/**\n * @param {?} item\n * @return {?}\n */\nprivate makeId(item:any) : string | number {\n\t\tif (typeof item === 'object') {\n\t\t\treturn item[this.key];\n\t\t} else {\n\t\t\treturn item;\n\t\t}\n\t}\n/**\n * @param {?} item\n * @param {?=} separator\n * @return {?}\n */\nprotected makeName(item:any, separator = '_') : string {\n\t\tconst /** @type {?} */ display = this.display;\n/**\n * @param {?} itm\n * @return {?}\n */\nfunction fallback(itm:any) {\n\t\t\tswitch (Object.prototype.toString.call(itm)) {\n\t\t\tcase '[object Number]':\n\t\t\t\treturn itm;\n\t\t\tcase '[object String]':\n\t\t\t\treturn itm;\n\t\t\tdefault:\n\t\t\t\tif (itm !== undefined) {\n\t\t\t\t\treturn itm[display];\n\t\t\t\t} else {\n\t\t\t\t\treturn 'undefined';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet /** @type {?} */ str = '';\n\n\t\tif (this.display !== undefined) {\n\t\t\tswitch (Object.prototype.toString.call(this.display)) {\n\t\t\tcase '[object Function]':\n\t\t\t\tstr = this.display(item);\n\t\t\t\tbreak;\n\n\t\t\tcase '[object Array]':\n\t\t\t\tfor (let /** @type {?} */ i = 0, /** @type {?} */ len = this.display.length; i < len; i += 1) {\n\t\t\t\t\tif (str.length > 0) {\n\t\t\t\t\t\tstr = str + separator;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.display[i].indexOf('.') === -1) {\n\t\t\t\t\t\t// Simple, just add to string.\n\t\t\t\t\t\tstr = str + item[this.display[i]];\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Complex, some action needs to be performed\n\t\t\t\t\t\tconst /** @type {?} */ parts = this.display[i].split('.');\n\n\t\t\t\t\t\tconst /** @type {?} */ s = item[parts[0]];\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\t// Use brute force\n\t\t\t\t\t\t\tif (parts[1].indexOf('substring') !== -1) {\n\t\t\t\t\t\t\t\tconst /** @type {?} */ nums = (parts[1].substring(parts[1].indexOf('(') + 1, parts[1].indexOf(')'))).split(',');\n\n\t\t\t\t\t\t\t\tswitch (nums.length) {\n\t\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t\tstr = str + s.substring(parseInt(nums[0], 10));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\tstr = str + s.substring(parseInt(nums[0], 10), parseInt(nums[1], 10));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tstr = str + s;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// method not approved, so just add s.\n\t\t\t\t\t\t\t\tstr = str + s;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tstr = fallback(item);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tstr = fallback(item);\n\t\t}\n\n\t\treturn str;\n\t}\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n\tselector: 'dual-list',\n\ttemplate: `\n   <div class=\"dual-list\">\n   \t<div class=\"listbox\" [ngStyle]=\"{ 'order' :  direction() ? 1 : 2, 'margin-left' : direction() ? 0 : '10px' }\">\n   \t\t<button type=\"button\" name=\"addBtn\" class=\"btn btn-primary btn-block\"\n   \t\t\t(click)=\"moveItem(available, confirmed)\" [ngClass]=\"direction() ? 'point-right' : 'point-left'\"\n   \t\t\t[disabled]=\"available.pick.length === 0\">{{format.add}}</button>\n\n   \t\t<form *ngIf=\"filter\" class=\"filter\">\n   \t\t\t<input class=\"form-control\" name=\"filterSource\" [(ngModel)]=\"available.picker\" (ngModelChange)=\"onFilter(available)\">\n   \t\t</form>\n\n   \t\t<div class=\"record-picker\">\n   \t\t\t<ul [ngStyle]=\"{'max-height': height, 'min-height': height}\" [ngClass]=\"{over:available.dragOver}\"\n   \t\t\t\t(drop)=\"drop($event, confirmed)\" (dragover)=\"allowDrop($event, available)\" (dragleave)=\"dragLeave()\">\n   \t\t\t\t<li *ngFor=\"let item of available.sift; let idx=index;\"\n   \t\t\t\t\t(click)=\"disabled ? null : selectItem(available.pick, item); shiftClick($event, idx, available, item)\"\n   \t\t\t\t\t[ngClass]=\"{selected: isItemSelected(available.pick, item), disabled: disabled}\"\n   \t\t\t\t\t[draggable]=\"!disabled && format.draggable\" (dragstart)=\"drag($event, item, available)\" (dragend)=\"dragEnd(available)\"\n   \t\t\t\t><label>{{item._name}}</label></li>\n   \t\t\t</ul>\n   \t\t</div>\n\n   \t\t<div class=\"button-bar\">\n   \t\t\t<button type=\"button\" class=\"btn btn-primary pull-left\" (click)=\"selectAll(available)\"\n   \t\t\t\t[disabled]=\"disabled || isAllSelected(available)\">{{format.all}}</button>\n   \t\t\t<button type=\"button\" class=\"btn btn-default pull-right\" (click)=\"selectNone(available)\"\n   \t\t\t\t[disabled]=\"!isAnySelected(available)\">{{format.none}}</button>\n   \t\t</div>\n   \t</div>\n\n   \t<div class=\"listbox\" [ngStyle]=\"{ 'order' : direction() ? 2 : 1, 'margin-left' : direction() ? '10px' : 0 }\">\n   \t\t<button type=\"button\" name=\"removeBtn\" class=\"btn btn-primary btn-block\"\n   \t\t\t(click)=\"moveItem(confirmed, available)\" [ngClass]=\"direction() ? 'point-left' : 'point-right'\"\n   \t\t\t[disabled]=\"confirmed.pick.length === 0\">{{format.remove}}</button>\n\n   \t\t<form *ngIf=\"filter\" class=\"filter\">\n   \t\t\t<input class=\"form-control\" name=\"filterDestination\" [(ngModel)]=\"confirmed.picker\" (ngModelChange)=\"onFilter(confirmed)\">\n   \t\t</form>\n\n   \t\t<div class=\"record-picker\">\n   \t\t\t<ul [ngStyle]=\"{'max-height': height, 'min-height': height}\" [ngClass]=\"{over:confirmed.dragOver}\"\n   \t\t\t\t(drop)=\"drop($event, available)\" (dragover)=\"allowDrop($event, confirmed)\" (dragleave)=\"dragLeave()\">\n   \t\t\t\t<li #itmConf *ngFor=\"let item of confirmed.sift; let idx=index;\"\n   \t\t\t\t\t(click)=\"disabled ? null : selectItem(confirmed.pick, item); shiftClick($event, idx, confirmed, item)\"\n   \t\t\t\t\t[ngClass]=\"{selected: isItemSelected(confirmed.pick, item), disabled: disabled}\"\n   \t\t\t\t\t[draggable]=\"!disabled && format.draggable\" (dragstart)=\"drag($event, item, confirmed)\" (dragend)=\"dragEnd(confirmed)\"\n   \t\t\t\t><label>{{item._name}}</label></li>\n   \t\t\t</ul>\n   \t\t</div>\n\n   \t\t<div class=\"button-bar\">\n   \t\t\t<button type=\"button\" class=\"btn btn-primary pull-left\" (click)=\"selectAll(confirmed)\"\n   \t\t\t\t[disabled]=\"disabled || isAllSelected(confirmed)\">{{format.all}}</button>\n   \t\t\t<button type=\"button\" class=\"btn btn-default pull-right\" (click)=\"selectNone(confirmed)\"\n   \t\t\t\t[disabled]=\"!isAnySelected(confirmed)\">{{format.none}}</button>\n   \t\t</div>\n   \t</div>\n   </div>\n\t`,\n\tstyles: [`\n   div.record-picker {\n   \toverflow-x: hidden;\n   \toverflow-y: auto;\n   \tborder: 1px solid #ddd;\n   \tborder-radius:8px;\n   \tposition: relative;\n   \tcursor: pointer;\n   }\n\n   /* http://www.ourtuts.com/how-to-customize-browser-scrollbars-using-css3/ */\n   div.record-picker::-webkit-scrollbar {\n   \twidth: 12px;\n   }\n\n   div.record-picker::-webkit-scrollbar-button {\n   \twidth: 0px;\n   \theight: 0px;\n   }\n\n   div.record-picker {\n   \tscrollbar-base-color: #337ab7;\n   \tscrollbar-3dlight-color: #337ab7;\n   \tscrollbar-highlight-color: #337ab7;\n   \tscrollbar-track-color: #eee;\n   \tscrollbar-arrow-color: gray;\n   \tscrollbar-shadow-color: gray;\n   \tscrollbar-dark-shadow-color: gray;\n   }\n\n   div.record-picker::-webkit-scrollbar-track {\n   \tbackground:#eee;\n   \t-webkit-box-shadow: 0px 0px 3px #dfdfdf inset;\n   \t        box-shadow: 0px 0px 3px #dfdfdf inset;\n   \tborder-top-right-radius: 8px;\n   \tborder-bottom-right-radius: 8px;\n   }\n\n   div.record-picker::-webkit-scrollbar-thumb {\n   \tbackground: #337ab7;\n   \tborder: thin solid gray;\n   \tborder-top-right-radius: 8px;\n   \tborder-bottom-right-radius: 8px;\n   }\n\n   div.record-picker::-webkit-scrollbar-thumb:hover {\n   \tbackground: #286090;\n   }\n\n   .record-picker ul {\n   \tmargin: 0;\n   \tpadding: 0 0 1px 0;\n   }\n\n   .record-picker li {\n   \tborder-top: thin solid #ddd;\n   \tborder-bottom: 1px solid #ddd;\n   \tdisplay: block;\n   \tpadding: 2px 2px 2px 10px;\n   \tmargin-bottom: -1px;\n   \tfont-size: 0.85em;\n   \tcursor: pointer;\n   \twhite-space: nowrap;\n   \tmin-height:16px;\n   }\n\n   .record-picker li:hover {\n   \tbackground-color: #f5f5f5;\n   }\n\n   .record-picker li.selected {\n   \tbackground-color: #d9edf7;\n   }\n\n   .record-picker li.selected:hover {\n   \tbackground-color: #c4e3f3;\n   }\n\n   .record-picker li.disabled {\n   \topacity: 0.5;\n   \tcursor: default;\n   \tbackground-color: inherit;\n   }\n\n   .record-picker li:first-child {\n   \tborder-top-left-radius: 8px;\n   \tborder-top-right-radius: 8px;\n   \tborder-top: none;\n   }\n\n   .record-picker li:last-child {\n   \tborder-bottom-left-radius: 8px;\n   \tborder-bottom-right-radius: 8px;\n   \tborder-bottom: none;\n   }\n\n   .record-picker label {\n   \tcursor: pointer;\n   \tfont-weight: inherit;\n   \tfont-size: 14px;\n   \tpadding: 4px;\n   \tmargin-bottom: -1px;\n   \t-webkit-touch-callout: none;\n   \t-webkit-user-select: none;\n   \t-moz-user-select: none;\n   \t-ms-user-select: none;\n   \tuser-select: none;\n   }\n\n   .record-picker ul.over {\n   \tbackground-color:lightgray;\n   }\n\n   .dual-list  {\n   \tdisplay: -webkit-box;\n   \tdisplay: -ms-flexbox;\n   \tdisplay: flex;\n   \t-webkit-box-orient: horizontal;\n   \t-webkit-box-direction: normal;\n   \t    -ms-flex-direction: row;\n   \t        flex-direction: row;\n   \t-ms-flex-line-pack: start;\n   \t    align-content: flex-start;\n   }\n\n   .dual-list .listbox {\n   \twidth: 50%;\n   \tmargin: 0px;\n   }\n\n   .dual-list .button-bar {\n   \tmargin-top: 8px;\n   }\n\n   /* &nbsp;&nbsp;&nbsp;&#9654; */\n   .point-right::after {\n   \tcontent: \"\\\\25B6\";\n   \tpadding-left: 1em;\n   }\n\n   /* &#9664;&nbsp;&nbsp;&nbsp; */\n   .point-left::before {\n   \tcontent: \"\\\\25C0\";\n   \tpadding-right: 1em;\n   }\n\n   .dual-list .button-bar button {\n   \twidth: 47%;\n   }\n\n   button.btn-block {\n   \tdisplay: block;\n   \twidth: 100%;\n   \tmargin-bottom: 8px;\n   }\n\n   .filter {\n   \tmargin-bottom: -2.2em;\n   }\n\n   .filter::after {\n   \tcontent:\"o\";\n   \twidth:40px;\n   \tcolor:transparent;\n   \tfont-size:2em;\n   \tbackground-image:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M0 64l192 192v192l128-32V256L512 64H0z\"/></svg>');\n   \tbackground-repeat:no-repeat;\n   \tbackground-position:center center;\n   \topacity:.2;\n   \ttop: -36px;\n   \tleft: calc(100% - 21px);\n   \tposition:relative;\n   }\n\t`]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: IterableDiffers, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'id': [{ type: Input },],\n'key': [{ type: Input },],\n'display': [{ type: Input },],\n'height': [{ type: Input },],\n'filter': [{ type: Input },],\n'format': [{ type: Input },],\n'sort': [{ type: Input },],\n'compare': [{ type: Input },],\n'disabled': [{ type: Input },],\n'source': [{ type: Input },],\n'destination': [{ type: Input },],\n'destinationChange': [{ type: Output },],\n};\n}\n\nfunction DualListComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDualListComponent.AVAILABLE_LIST_NAME;\n/** @type {?} */\nDualListComponent.CONFIRMED_LIST_NAME;\n/** @type {?} */\nDualListComponent.LTR;\n/** @type {?} */\nDualListComponent.RTL;\n/** @type {?} */\nDualListComponent.DEFAULT_FORMAT;\n/** @type {?} */\nDualListComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDualListComponent.ctorParameters;\n/** @type {?} */\nDualListComponent.propDecorators;\n/** @type {?} */\nDualListComponent.prototype.id;\n/** @type {?} */\nDualListComponent.prototype.key;\n/** @type {?} */\nDualListComponent.prototype.display;\n/** @type {?} */\nDualListComponent.prototype.height;\n/** @type {?} */\nDualListComponent.prototype.filter;\n/** @type {?} */\nDualListComponent.prototype.format;\n/** @type {?} */\nDualListComponent.prototype.sort;\n/** @type {?} */\nDualListComponent.prototype.compare;\n/** @type {?} */\nDualListComponent.prototype.disabled;\n/** @type {?} */\nDualListComponent.prototype.source;\n/** @type {?} */\nDualListComponent.prototype.destination;\n/** @type {?} */\nDualListComponent.prototype.destinationChange;\n/** @type {?} */\nDualListComponent.prototype.available;\n/** @type {?} */\nDualListComponent.prototype.confirmed;\n/** @type {?} */\nDualListComponent.prototype.sourceDiffer;\n/** @type {?} */\nDualListComponent.prototype.destinationDiffer;\n/** @type {?} */\nDualListComponent.prototype.sorter;\n/** @type {?} */\nDualListComponent.prototype.differs;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\nexport class BasicList {\n/**\n * Name of the list\n */\nprivate _name:string;\n/**\n * Last element touched\n */\nlast:any;\n/**\n * text filter\n */\npicker:string;\n\n\tdragStart:boolean;\n\tdragOver:boolean;\n\n\tpick:Array<any>;\n\tlist:Array<any>;\n\tsift:Array<any>;\n/**\n * @param {?} name\n */\nconstructor(name:string) {\n\t\tthis._name = name;\n\t\tthis.last = null;\n\t\tthis.picker = '';\n\t\tthis.dragStart = false;\n\t\tthis.dragOver = false;\n\n\t\t// Arrays will contain objects of { _id, _name }.\n\t\tthis.pick = [];\n\t\tthis.list = [];\n\t\tthis.sift = [];\n\t}\n/**\n * @return {?}\n */\nget name() : string {\n\t\treturn this._name;\n\t}\n}\n\nfunction BasicList_tsickle_Closure_declarations() {\n/**\n * Name of the list\n * @type {?}\n */\nBasicList.prototype._name;\n/**\n * Last element touched\n * @type {?}\n */\nBasicList.prototype.last;\n/**\n * text filter\n * @type {?}\n */\nBasicList.prototype.picker;\n/** @type {?} */\nBasicList.prototype.dragStart;\n/** @type {?} */\nBasicList.prototype.dragOver;\n/** @type {?} */\nBasicList.prototype.pick;\n/** @type {?} */\nBasicList.prototype.list;\n/** @type {?} */\nBasicList.prototype.sift;\n}\n\n"],"names":[],"mappings":"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"}
